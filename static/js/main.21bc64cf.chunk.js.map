{"version":3,"sources":["components/linkable_ring_signature/lib/jsbn.js","components/linkable_ring_signature/lib/jsbn2.js","components/linkable_ring_signature/lib/ec.js","components/linkable_ring_signature/lib/prng4.js","components/linkable_ring_signature/lib/rng.js","components/linkable_ring_signature/lib/sec.js","components/linkable_ring_signature/utils.js","components/pedersen_commitment/pedersen_commitment.js","components/registration/registration.js","components/newElection.js","components/election.js","components/linkable_ring_signature/lrs.js","components/elections_components/privateKey_item.js","components/elections_components/selectCandidate_item.js","components/elections_components/publickey_index_item.js","components/elections_components/Badge_item.js","components/elections_components/Afi0Item.js","components/ecdsa/ecdsa.js","components/CPNIZKP/cpnizkp.js","components/elgamal/elgamal.js","components/secret_sharing/secret_sharing.js","components/elections_components/Candidates_table_item.js","components/elections_components/Publickeys_table_item.js","components/elections_components/SubSecret.js","components/elections_components/BallotResult.js","components/elections_components/Ballots.js","components/elections_components/CloseState.js","components/elections_components/Alert_item.js","components/elections.js","App.js","reportWebVitals.js","index.js"],"names":["dbits","BigInteger","a","b","c","this","fromNumber","fromString","nbi","navigator","appName","prototype","am","i","x","w","j","n","xl","xh","l","h","m","v","Math","floor","DB","DM","DV","FV","pow","F1","F2","rr","vv","BI_RM","BI_RC","Array","charCodeAt","int2char","charAt","intAt","s","nbv","r","fromInt","nbits","t","Classic","Montgomery","mp","invDigit","mpl","mph","um","mt2","op_and","y","op_or","op_xor","op_andnot","lbit","cbit","NullExp","nNop","Barrett","r2","q3","ONE","dlShiftTo","mu","divide","convert","compareTo","mod","revert","reduce","divRemTo","mulTo","multiplyTo","sqrTo","squareTo","abs","ZERO","subTo","copyTo","u0","clamp","drShiftTo","k","fromRadix","length","mi","sh","max","lShiftTo","bs","cbs","bm","ds","rShiftTo","min","q","pm","pt","ts","ms","nsh","ys","y0","yt","d1","d2","e","qd","isEven","exp","z","g","toString","negate","toRadix","d","km","p","bitLength","modPowInt","multiplyUpperTo","multiplyLowerTo","dAddOffset","lowprimes","lplim","ECFieldElementFp","ECPointFp","curve","zinv","ECCurveFp","fromBigInteger","infinity","reducer","Arcfour","S","chunkSize","LN2","log","signum","cs","intValue","substr","dMultiply","testBit","bitwiseTo","shiftLeft","isProbablePrime","nextBytes","op","f","changeBit","addTo","modInt","millerRabin","n1","subtract","getLowestSetBit","shiftRight","random","modPow","clone","byteValue","shortValue","toByteArray","equals","and","or","xor","andNot","not","bitCount","setBit","clearBit","flipBit","add","multiply","remainder","divideAndRemainder","k1","g2","is1","modInverse","ac","u","gcd","square","other","toBigInteger","getX","getY","isInfinity","twice","getInfinity","THREE","x1","y1","v2","v3","x1v2","zu2","x3","y3","z3","y1z1","y1sqz1","neg","R","hBit","multiplyTwo","both","getQ","getA","getB","decodePointHex","parseInt","len","xHex","yHex","encodePointHex","oLen","init","key","next","rng_state","rng_pool","rng_pptr","rng_psize","rng_seed_time","Date","getTime","window","crypto","getRandomValues","ua","Uint8Array","appVersion","rng_get_byte","SecureRandom","ba","X9ECParameters","fromHex","getSECCurveByName","name","G","secp128r1","secp160k1","secp160r1","secp192k1","secp192r1","secp224r1","secp256r1","getCurve","getG","getN","getH","ec_params","Curve","P","N","rng","getRandomIntModN","getRandomInt","genKeyPair","privateKey","publicKey","privateKeyHex","zeros","publicKeyToHex","hexToPublicKey","publicKeyHex","slice","messageToInt","message","num","console","hash1","Web3","utils","soliditySha3","type","value","hash2","concateArray","arr","pointToXYInt","intTopoint","pointToInt","mapToCurve","Three","A","B","newtonIteration","x0","sqrt","_unused","paddingStr","str","removePadding","split","H","genCommitment","secret","rG","xH","rG_plus_xH","salt","encR","verifyCommitment","X","commitments","LHS","RHS","hashSecret","string","decryptR","result","getVoterInfoCommitment","_x","_getVoterInfoCommitment","apply","arguments","_callee2","file","person","tmp","tmp2","commitment","regenerator_default","wrap","_context2","prev","readXlsxFile","then","_ref","Object","asyncToGenerator","mark","_callee","rows","_context","push","stop","_x2","abrupt","NewElection","electionAddresses","web3","handleCloseNewElection","votingApp","account","_useState","useState","_useState2","slicedToArray","title","setTitle","_useState3","_useState4","description","setDescription","_useState5","_useState6","candidates","setCandidates","_useState7","_useState8","voters","setVoters","_useState9","_useState10","voter_options","setVoterOptions","_useState11","_useState12","ec_publickeys","setECPubKeys","_useState13","_useState14","min_shares","set_min_shares","_useState15","_useState16","reg_time","set_reg_time","_useState17","_useState18","shares_dis_time","set_shares_dis_time","_useState19","_useState20","shares_ver_time","set_shares_ver_time","_useState21","_useState22","vote_time","set_vote_time","_useState23","_useState24","secret_upload_time","set_secret_upload_time","_useState25","_useState26","reg_time_unit","set_reg_time_unit","_useState27","_useState28","shares_dis_time_unit","set_shares_dis_time_unit","_useState29","_useState30","shares_ver_time_unit","set_shares_ver_time_unit","_useState31","_useState32","vote_time_unit","set_vote_time_unit","_useState33","_useState34","secret_upload_time_unit","set_secret_upload_time_unit","_useState35","_useState36","newEAddr","setNewEAddr","_useState37","_useState38","eInstance","setEInstance","_useState39","_useState40","isSetUp","setIsSetUp","_useState41","_useState42","isRegOn","setIsRegOn","_useState43","_useState44","regInfo","setRegInfo","handleRegInfoChange","_ref2","target","files","sent","useEffect","events","setElectionInfoEvent","_ref3","error","receipt","alert","returnValues","_x3","eIn","eth","Contract","ElectionABI","animatedComponents","makeAnimated","handleSetUP","_ref4","_callee3","_context3","methods","setElectionInfo","asciiToHex","map","send","from","gas","react_default","createElement","className","Form","Control","placeholder","required","id","onChange","style","height","as","index_modern","values","onTags","data-testid","onClick","reader","FileReader","onload","publickeys","options","forEach","pubKey","label","readAsText","index_esm","size","react_select_esm","closeMenuOnSelect","components","isMulti","isSearchable","filter","obj","includes","FormCheck","accept","disabled","InputGroup","FloatingLabel","Select","aria-label","Button","variant","addElection","on","Election","election","post_date","close_date","state_badge","state","Card","Subtitle","fa_index_esm","hexToAscii","Badge","bg","Text","bi_index_esm","genSig","publicKeys","identity","Y","M","U","V","L","K","cG","cH","index","vG","uY","vH","uK","h1","U0","verifySig","sig","genKeyPairs","PrivateKey_item","handlePrivateKeyChange","FormControl","SelectCandidate_item","selectedCandidateID","handleSelectedCandidateIDChange","controlId","Publickey_index_item","publickeyIndex","handlePublicKeyIndexChange","Badge_item","isDone","isLoading","text","bg_color","pill","Spinner","animation","im_index_esm","fontSize","ti_index_esm","Afi0Item","fi0","handlefi0Change","BN","ec_sign","hashed_message","prkKey","invm","pubP","s_inv","ec_verify","CPprove","G1","G2","elgamal_encrypt","receiver_publickeyHex","C","CC","Pm","D","elgamal_decrypt","ciphertext","test","reconstructSecret","subSecrets","Big","subSecret","times","plus","lt","round","roundUp","toFixed","privateKeyString","prvKey","getPublicKeyHex","sumOFfiOFJ","sum","verifyfi_ofJ","fi_ofJ","Fij_list","rhs","F","Candidates_table_item","Publickeys_table_item","publickeysAfterVerified","disqualifiedVoters","SetTmp","count","_loop","find","undefined","SubSecretItem","sumOFfiOFJval","xi","f0_1","f0_2","testPubKey","BallotResult","isShowResult","voteRate","indexAxis","repsonsive","elements","bar","borderWidth","plugins","legend","position","display","font","concat","labels","colors","letters","color","randColor","data","datasets","voteCount","backgroundColor","borderColor","react_chartjs_2_dist","Ballots","isShowBallots","ballots","isValidLRSLoading","setIsValidLRSLoading","isValidLRS","setIsValidLRS","isVoteOnceOnlyLoading","setIsVoteOnceOnlyLoading","isVoteOnceOnly","setIsVoteOnceOnly","handleVerfiyLRS","ballot","isValidSig","objectSpread","defineProperty","verifyLRS","encVoteHash","call","handleVerifyVoteOnlyOnce","Ks","_x4","gridjs_production_es_min","columns","sort","pagination","enabled","limit","fixedHeader","timestamp","voteTime","candidate_id","_","CloseState","isTallied","setIsShowResult","setIsShowBallots","Container","Row","Col","Alert_item","handleDone","isDoing","alertMsg","doName","doingName","Alert","Elections","searchName","electionInstances","msg_scrollbar","useRef","owner","setOwner","setState","setPostdate","reg_end_date","setRegEnddate","vote_end_date","setVoteenddate","key_gen_end_date","setKeygenenddate","key_ver_end_date","setKeygenverdate","secret_upload_end_date","setSecretuploadenddate","setPrivateKey","selectedState","setSelectedState","setElectionAddress","votePubKey","setVotePubKey","encyptedVote","setEncyptedVote","setEncVoteHash","regPrvKey","setRegPrvKey","regPubKey","setRegPubKey","regName","setRegName","regBirthDate","setRegBirthDate","regID","setRegID","_useState45","_useState46","regR","setRegR","_useState47","_useState48","regX","setRegX","_useState49","_useState50","elections","setElections","_useState51","_useState52","setPublickeys","_useState53","_useState54","_useState55","_useState56","setPolynomial","_useState57","_useState58","setPolynomialMulG","_useState59","_useState60","setPolynomialOfXModP","_useState61","_useState62","setFij_list","_useState63","_useState64","fi_ofJ_list","setfi_ofJ_list","_useState65","_useState66","fi_ofJ_list_encrypted","setfi_ofJ_list_encrypted","_useState67","_useState68","fi_ofJ_list_signed","setfi_ofJ_list_signed","_useState69","_useState70","subSecretwithSig","setSubSecretWithSig","_useState71","_useState72","setBallots","_useState73","_useState74","setDisqualifiedVoters","_useState75","_useState76","disqualifiedVotersReportPar","setDisqualifiedVotersReportPar","_useState77","_useState78","setPublickeysAfterVerified","_useState79","_useState80","subSecretProof","setSubSecretProof","_useState81","_useState82","_useState83","_useState84","setElecitonID","_useState85","_useState86","setPublickeyIndex","_useState87","_useState88","setSelectedCandidateID","_useState89","_useState90","totalVoteCount","setTotalVoteCount","_useState91","_useState92","keyGenValueSentVoterCount","setkeyGenValueSentVoterCount","_useState93","_useState94","setMinShares","_useState95","_useState96","totalSubSecretSentCount","setTotalSubSecretSentCount","_useState97","_useState98","setfi0Change","_useState99","_useState100","setSubSecret","_useState101","_useState102","regInfoIndex","setRegInfoIndex","_useState103","_useState104","isEncrypted","setIsEncrypted","_useState105","_useState106","isLRS","setIsLRS","_useState107","_useState108","isKeyGenSignature","setIsKeyGenSignature","_useState109","_useState110","isSelectedElection","setIsselectedelection","_useState111","_useState112","isEncryptLoading","setIsEncryptLoading","_useState113","_useState114","isLRSLoading","setLRSLoading","_useState115","_useState116","isKeyGenSignatureLoading","setIsKeyGenSignatureLoading","_useState117","_useState118","isSecretUploadSignature","setIsSecretUploadSignature","_useState119","_useState120","isSecretUploadSignatureLoading","setIsSecretUploadSignatureLoading","_useState121","_useState122","isSendVoteLoading","setIsSendVoteLoading","_useState123","_useState124","isSendValueLoading","setIsSendValueLoading","_useState125","_useState126","isEncryptedValues","setIsEncryptedValues","_useState127","_useState128","isEncryptedValuesLoading","setIsEncryptedValuesLoading","_useState129","_useState130","isSendSubSecretLoading","setIsSendSubSecretLoading","_useState131","_useState132","setIsTallied","_useState133","_useState134","isTallying","setIsTallying","_useState135","_useState136","isKeyValValid","setIsKeyValValid","_useState137","_useState138","isKeyValVerifying","setIsKeyValVerifying","_useState139","_useState140","isReportingVoters","setIsReportingVoters","_useState141","_useState142","isVotePubKeySet","setIsVotePubKeySet","_useState143","_useState144","isVotePubKeySeting","setIsVotePubKeySeting","_useState145","_useState146","seIsSetUp","_useState147","_useState148","isNoSendSharesCheck","setIsNoSendSharesCheck","_useState149","_useState150","_useState151","_useState152","isRegistering","setIsRegistering","_useState153","_useState154","isEligibleParticipant","setIsElligibleParticipant","_useState155","_useState156","isEligibleParticipanting","setIsElligibleParticipanting","_useState157","_useState158","electionInstance","setelectionInstace","_useState159","_useState160","LRSignature","setLRSignature","getElectionData","newVoteEvent","addKeygenValueEvent","totatSharesSentCount","addSubSecretEvent","_ref5","_callee4","_context4","_x5","_x6","tallyVoteEvent","_ref6","_callee5","_context5","_x7","_x8","verifySharesEvent","_ref7","_callee6","_context6","illegitimate_voter_indeces","isNoSendShares","_x9","_x10","setVotePubKeyEvent","_ref8","_callee7","_context7","_x11","_x12","addVoterEvent","_ref9","_callee8","_context8","toConsumableArray","newECPubKey","_x13","_x14","state_color_mapping","Set Up","Registration","Shares Distribution","Shares Verification","Vote","Secret Upload","Close","determineState","reg_end_time","shares_end_time","ver_end_time","vote_end_time","secret_upload_end_time","now","handleRegister","_ref10","_callee9","regPubKeyEC","_context9","saveKeyPair","addVoter","handleEncVote","_ref11","_callee10","VotePubKey","encVote","_context10","handleGenSig","stage","tmp1","Fij","hash","handleSendSubSecret","_ref12","_callee11","_context11","addSubSecret","getfi_OFJ","_ref13","_callee12","_context12","getf","blob","Blob","saveAs","decrypt_fiOFJValues","_ref14","_callee13","shares","_context13","handleSendKeyGenValues","_ref15","_callee14","_context14","addShares","timestampToDate","handleGenLRS","_ref16","_callee15","encyptedVoteHash","_context15","t0","handleSendVote","_ref17","_callee16","Kx","Ky","_context16","addVote","handleGenSubSecret","_ref18","_callee17","subSec","_context17","handleTally","_ref19","_callee18","_context18","getSubSecrets","tallyVote","handleVerKeyGenValues","_ref20","_callee19","inValid","_loop5","_context20","setNoSendSharesVoters","CPproof","H2","_context19","getF","delegateYield","handleReportVoters","_ref21","_callee20","_context21","setDisqualifiedPubKeyIndece","handleSetVotePubKey","_ref22","_callee21","_context22","setVotePublicKey","react_custom_scrollbars_2_lib","ref","universal","autoHide","autoHideTimeout","autoHideDuration","share_end_time","post_time","pubKeys","EC_public_keys","isVoteTallied","handleSelectedElectionDataChange","election_Election","fluid","xs","Table","bordered","hover","TabContainer","activeKey","onSelect","sm","Nav","fill","Item","Link","eventKey","Tab","Content","Pane","_loop2","keyPair","_ret","ID","birthDate","id_R","birthDate_R","name_R","hashID","hashBirthDate","hashName","val","rands","_loop3","rand","polynomial","randMulG","getPublicKeyXY","hash_message","polynomialMulG","_loop4","calcPolynomialOfXModP","polynomialOfXModP","App","setWeb3","setAccount","setsearchName","setVotingApp","setElectionInstances","setElectionAddresses","isNewElection","setisNewElection","blockchainInstance","network","accounts","networkID","networkData","vApp","eAddresses","givenProvider","net","getNetworkType","getAccounts","getId","VotingApp","getElectionAddresses","address","newElectionEvent","eAddress","Fragment","Navbar","collapseOnSelect","aria-controls","Brand","Toggle","Collapse","reportWebVitals","onPerfEntry","Function","__webpack_require__","bind","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.21bc64cf.chunk.js","sourcesContent":["\n// Copyright (c) 2005  Tom Wu\n// All Rights Reserved.\n// See \"LICENSE\" for details.\n\n// Basic JavaScript BN library - subset useful for RSA encryption.\n\n// Bits per digit\nvar dbits;\n\n// JavaScript engine analysis\nvar canary = 0xdeadbeefcafe;\nvar j_lm = ((canary&0xffffff)==0xefcafe);\n\n// (public) Constructor\nexport default function BigInteger(a,b,c) {\n  if(a != null)\n    if(\"number\" == typeof a) this.fromNumber(a,b,c);\n    else if(b == null && \"string\" != typeof a) this.fromString(a,256);\n    else this.fromString(a,b);\n}\n\n// return new, unset BigInteger\nexport function nbi() { return new BigInteger(null); }\n\n// am: Compute w_j += (x*this_i), propagate carries,\n// c is initial carry, returns final carry.\n// c < 3*dvalue, x < 2*dvalue, this_i < dvalue\n// We need to select the fastest one that works in this environment.\n\n// am1: use a single mult and divide to get the high bits,\n// max digit bits should be 26 because\n// max internal value = 2*dvalue^2-2*dvalue (< 2^53)\nfunction am1(i,x,w,j,c,n) {\n  while(--n >= 0) {\n    var v = x*this[i++]+w[j]+c;\n    c = Math.floor(v/0x4000000);\n    w[j++] = v&0x3ffffff;\n  }\n  return c;\n}\n// am2 avoids a big mult-and-extract completely.\n// Max digit bits should be <= 30 because we do bitwise ops\n// on values up to 2*hdvalue^2-hdvalue-1 (< 2^31)\nfunction am2(i,x,w,j,c,n) {\n  var xl = x&0x7fff, xh = x>>15;\n  while(--n >= 0) {\n    var l = this[i]&0x7fff;\n    var h = this[i++]>>15;\n    var m = xh*l+h*xl;\n    l = xl*l+((m&0x7fff)<<15)+w[j]+(c&0x3fffffff);\n    c = (l>>>30)+(m>>>15)+xh*h+(c>>>30);\n    w[j++] = l&0x3fffffff;\n  }\n  return c;\n}\n// Alternately, set max digit bits to 28 since some\n// browsers slow down when dealing with 32-bit numbers.\nfunction am3(i,x,w,j,c,n) {\n  var xl = x&0x3fff, xh = x>>14;\n  while(--n >= 0) {\n    var l = this[i]&0x3fff;\n    var h = this[i++]>>14;\n    var m = xh*l+h*xl;\n    l = xl*l+((m&0x3fff)<<14)+w[j]+c;\n    c = (l>>28)+(m>>14)+xh*h;\n    w[j++] = l&0xfffffff;\n  }\n  return c;\n}\nif(j_lm && (navigator.appName == \"Microsoft Internet Explorer\")) {\n  BigInteger.prototype.am = am2;\n  dbits = 30;\n}\nelse if(j_lm && (navigator.appName != \"Netscape\")) {\n  BigInteger.prototype.am = am1;\n  dbits = 26;\n}\nelse { // Mozilla/Netscape seems to prefer am3\n  BigInteger.prototype.am = am3;\n  dbits = 28;\n}\n\nBigInteger.prototype.DB = dbits;\nBigInteger.prototype.DM = ((1<<dbits)-1);\nBigInteger.prototype.DV = (1<<dbits);\n\nvar BI_FP = 52;\nBigInteger.prototype.FV = Math.pow(2,BI_FP);\nBigInteger.prototype.F1 = BI_FP-dbits;\nBigInteger.prototype.F2 = 2*dbits-BI_FP;\n\n// Digit conversions\nvar BI_RM = \"0123456789abcdefghijklmnopqrstuvwxyz\";\nvar BI_RC = new Array();\nvar rr,vv;\nrr = \"0\".charCodeAt(0);\nfor(vv = 0; vv <= 9; ++vv) BI_RC[rr++] = vv;\nrr = \"a\".charCodeAt(0);\nfor(vv = 10; vv < 36; ++vv) BI_RC[rr++] = vv;\nrr = \"A\".charCodeAt(0);\nfor(vv = 10; vv < 36; ++vv) BI_RC[rr++] = vv;\n\nfunction int2char(n) { return BI_RM.charAt(n); }\nexport function intAt(s,i) {\n  var c = BI_RC[s.charCodeAt(i)];\n  return (c==null)?-1:c;\n}\n\n// (protected) copy this to r\nfunction bnpCopyTo(r) {\n  for(var i = this.t-1; i >= 0; --i) r[i] = this[i];\n  r.t = this.t;\n  r.s = this.s;\n}\n\n// (protected) set from integer value x, -DV <= x < DV\nfunction bnpFromInt(x) {\n  this.t = 1;\n  this.s = (x<0)?-1:0;\n  if(x > 0) this[0] = x;\n  else if(x < -1) this[0] = x+this.DV;\n  else this.t = 0;\n}\n\n// return bigint initialized to value\nexport function nbv(i) { var r = nbi(); r.fromInt(i); return r; }\n\n// (protected) set from string and radix\nfunction bnpFromString(s,b) {\n  var k;\n  if(b == 16) k = 4;\n  else if(b == 8) k = 3;\n  else if(b == 256) k = 8; // byte array\n  else if(b == 2) k = 1;\n  else if(b == 32) k = 5;\n  else if(b == 4) k = 2;\n  else { this.fromRadix(s,b); return; }\n  this.t = 0;\n  this.s = 0;\n  var i = s.length, mi = false, sh = 0;\n  while(--i >= 0) {\n    var x = (k==8)?s[i]&0xff:intAt(s,i);\n    if(x < 0) {\n      if(s.charAt(i) == \"-\") mi = true;\n      continue;\n    }\n    mi = false;\n    if(sh == 0)\n      this[this.t++] = x;\n    else if(sh+k > this.DB) {\n      this[this.t-1] |= (x&((1<<(this.DB-sh))-1))<<sh;\n      this[this.t++] = (x>>(this.DB-sh));\n    }\n    else\n      this[this.t-1] |= x<<sh;\n    sh += k;\n    if(sh >= this.DB) sh -= this.DB;\n  }\n  if(k == 8 && (s[0]&0x80) != 0) {\n    this.s = -1;\n    if(sh > 0) this[this.t-1] |= ((1<<(this.DB-sh))-1)<<sh;\n  }\n  this.clamp();\n  if(mi) BigInteger.ZERO.subTo(this,this);\n}\n\n// (protected) clamp off excess high words\nfunction bnpClamp() {\n  var c = this.s&this.DM;\n  while(this.t > 0 && this[this.t-1] == c) --this.t;\n}\n\n// (public) return string representation in given radix\nfunction bnToString(b) {\n  if(this.s < 0) return \"-\"+this.negate().toString(b);\n  var k;\n  if(b == 16) k = 4;\n  else if(b == 8) k = 3;\n  else if(b == 2) k = 1;\n  else if(b == 32) k = 5;\n  else if(b == 4) k = 2;\n  else return this.toRadix(b);\n  var km = (1<<k)-1, d, m = false, r = \"\", i = this.t;\n  var p = this.DB-(i*this.DB)%k;\n  if(i-- > 0) {\n    if(p < this.DB && (d = this[i]>>p) > 0) { m = true; r = int2char(d); }\n    while(i >= 0) {\n      if(p < k) {\n        d = (this[i]&((1<<p)-1))<<(k-p);\n        d |= this[--i]>>(p+=this.DB-k);\n      }\n      else {\n        d = (this[i]>>(p-=k))&km;\n        if(p <= 0) { p += this.DB; --i; }\n      }\n      if(d > 0) m = true;\n      if(m) r += int2char(d);\n    }\n  }\n  return m?r:\"0\";\n}\n\n// (public) -this\nfunction bnNegate() { var r = nbi(); BigInteger.ZERO.subTo(this,r); return r; }\n\n// (public) |this|\nfunction bnAbs() { return (this.s<0)?this.negate():this; }\n\n// (public) return + if this > a, - if this < a, 0 if equal\nfunction bnCompareTo(a) {\n  var r = this.s-a.s;\n  if(r != 0) return r;\n  var i = this.t;\n  r = i-a.t;\n  if(r != 0) return (this.s<0)?-r:r;\n  while(--i >= 0) if((r=this[i]-a[i]) != 0) return r;\n  return 0;\n}\n\n// returns bit length of the integer x\nexport function nbits(x) {\n  var r = 1, t;\n  if((t=x>>>16) != 0) { x = t; r += 16; }\n  if((t=x>>8) != 0) { x = t; r += 8; }\n  if((t=x>>4) != 0) { x = t; r += 4; }\n  if((t=x>>2) != 0) { x = t; r += 2; }\n  if((t=x>>1) != 0) { x = t; r += 1; }\n  return r;\n}\n\n// (public) return the number of bits in \"this\"\nfunction bnBitLength() {\n  if(this.t <= 0) return 0;\n  return this.DB*(this.t-1)+nbits(this[this.t-1]^(this.s&this.DM));\n}\n\n// (protected) r = this << n*DB\nfunction bnpDLShiftTo(n,r) {\n  var i;\n  for(i = this.t-1; i >= 0; --i) r[i+n] = this[i];\n  for(i = n-1; i >= 0; --i) r[i] = 0;\n  r.t = this.t+n;\n  r.s = this.s;\n}\n\n// (protected) r = this >> n*DB\nfunction bnpDRShiftTo(n,r) {\n  for(var i = n; i < this.t; ++i) r[i-n] = this[i];\n  r.t = Math.max(this.t-n,0);\n  r.s = this.s;\n}\n\n// (protected) r = this << n\nfunction bnpLShiftTo(n,r) {\n  var bs = n%this.DB;\n  var cbs = this.DB-bs;\n  var bm = (1<<cbs)-1;\n  var ds = Math.floor(n/this.DB), c = (this.s<<bs)&this.DM, i;\n  for(i = this.t-1; i >= 0; --i) {\n    r[i+ds+1] = (this[i]>>cbs)|c;\n    c = (this[i]&bm)<<bs;\n  }\n  for(i = ds-1; i >= 0; --i) r[i] = 0;\n  r[ds] = c;\n  r.t = this.t+ds+1;\n  r.s = this.s;\n  r.clamp();\n}\n\n// (protected) r = this >> n\nfunction bnpRShiftTo(n,r) {\n  r.s = this.s;\n  var ds = Math.floor(n/this.DB);\n  if(ds >= this.t) { r.t = 0; return; }\n  var bs = n%this.DB;\n  var cbs = this.DB-bs;\n  var bm = (1<<bs)-1;\n  r[0] = this[ds]>>bs;\n  for(var i = ds+1; i < this.t; ++i) {\n    r[i-ds-1] |= (this[i]&bm)<<cbs;\n    r[i-ds] = this[i]>>bs;\n  }\n  if(bs > 0) r[this.t-ds-1] |= (this.s&bm)<<cbs;\n  r.t = this.t-ds;\n  r.clamp();\n}\n\n// (protected) r = this - a\nfunction bnpSubTo(a,r) {\n  var i = 0, c = 0, m = Math.min(a.t,this.t);\n  while(i < m) {\n    c += this[i]-a[i];\n    r[i++] = c&this.DM;\n    c >>= this.DB;\n  }\n  if(a.t < this.t) {\n    c -= a.s;\n    while(i < this.t) {\n      c += this[i];\n      r[i++] = c&this.DM;\n      c >>= this.DB;\n    }\n    c += this.s;\n  }\n  else {\n    c += this.s;\n    while(i < a.t) {\n      c -= a[i];\n      r[i++] = c&this.DM;\n      c >>= this.DB;\n    }\n    c -= a.s;\n  }\n  r.s = (c<0)?-1:0;\n  if(c < -1) r[i++] = this.DV+c;\n  else if(c > 0) r[i++] = c;\n  r.t = i;\n  r.clamp();\n}\n\n// (protected) r = this * a, r != this,a (HAC 14.12)\n// \"this\" should be the larger one if appropriate.\nfunction bnpMultiplyTo(a,r) {\n  var x = this.abs(), y = a.abs();\n  var i = x.t;\n  r.t = i+y.t;\n  while(--i >= 0) r[i] = 0;\n  for(i = 0; i < y.t; ++i) r[i+x.t] = x.am(0,y[i],r,i,0,x.t);\n  r.s = 0;\n  r.clamp();\n  if(this.s != a.s) BigInteger.ZERO.subTo(r,r);\n}\n\n// (protected) r = this^2, r != this (HAC 14.16)\nfunction bnpSquareTo(r) {\n  var x = this.abs();\n  var i = r.t = 2*x.t;\n  while(--i >= 0) r[i] = 0;\n  for(i = 0; i < x.t-1; ++i) {\n    var c = x.am(i,x[i],r,2*i,0,1);\n    if((r[i+x.t]+=x.am(i+1,2*x[i],r,2*i+1,c,x.t-i-1)) >= x.DV) {\n      r[i+x.t] -= x.DV;\n      r[i+x.t+1] = 1;\n    }\n  }\n  if(r.t > 0) r[r.t-1] += x.am(i,x[i],r,2*i,0,1);\n  r.s = 0;\n  r.clamp();\n}\n\n// (protected) divide this by m, quotient and remainder to q, r (HAC 14.20)\n// r != q, this != m.  q or r may be null.\nfunction bnpDivRemTo(m,q,r) {\n  var pm = m.abs();\n  if(pm.t <= 0) return;\n  var pt = this.abs();\n  if(pt.t < pm.t) {\n    if(q != null) q.fromInt(0);\n    if(r != null) this.copyTo(r);\n    return;\n  }\n  if(r == null) r = nbi();\n  var y = nbi(), ts = this.s, ms = m.s;\n  var nsh = this.DB-nbits(pm[pm.t-1]);\t// normalize modulus\n  if(nsh > 0) { pm.lShiftTo(nsh,y); pt.lShiftTo(nsh,r); }\n  else { pm.copyTo(y); pt.copyTo(r); }\n  var ys = y.t;\n  var y0 = y[ys-1];\n  if(y0 == 0) return;\n  var yt = y0*(1<<this.F1)+((ys>1)?y[ys-2]>>this.F2:0);\n  var d1 = this.FV/yt, d2 = (1<<this.F1)/yt, e = 1<<this.F2;\n  var i = r.t, j = i-ys, t = (q==null)?nbi():q;\n  y.dlShiftTo(j,t);\n  if(r.compareTo(t) >= 0) {\n    r[r.t++] = 1;\n    r.subTo(t,r);\n  }\n  BigInteger.ONE.dlShiftTo(ys,t);\n  t.subTo(y,y);\t// \"negative\" y so we can replace sub with am later\n  while(y.t < ys) y[y.t++] = 0;\n  while(--j >= 0) {\n    // Estimate quotient digit\n    var qd = (r[--i]==y0)?this.DM:Math.floor(r[i]*d1+(r[i-1]+e)*d2);\n    if((r[i]+=y.am(0,qd,r,j,0,ys)) < qd) {\t// Try it out\n      y.dlShiftTo(j,t);\n      r.subTo(t,r);\n      while(r[i] < --qd) r.subTo(t,r);\n    }\n  }\n  if(q != null) {\n    r.drShiftTo(ys,q);\n    if(ts != ms) BigInteger.ZERO.subTo(q,q);\n  }\n  r.t = ys;\n  r.clamp();\n  if(nsh > 0) r.rShiftTo(nsh,r);\t// Denormalize remainder\n  if(ts < 0) BigInteger.ZERO.subTo(r,r);\n}\n\n// (public) this mod a\nfunction bnMod(a) {\n  var r = nbi();\n  this.abs().divRemTo(a,null,r);\n  if(this.s < 0 && r.compareTo(BigInteger.ZERO) > 0) a.subTo(r,r);\n  return r;\n}\n\n// Modular reduction using \"classic\" algorithm\nexport function Classic(m) { this.m = m; }\nfunction cConvert(x) {\n  if(x.s < 0 || x.compareTo(this.m) >= 0) return x.mod(this.m);\n  else return x;\n}\nfunction cRevert(x) { return x; }\nfunction cReduce(x) { x.divRemTo(this.m,null,x); }\nfunction cMulTo(x,y,r) { x.multiplyTo(y,r); this.reduce(r); }\nfunction cSqrTo(x,r) { x.squareTo(r); this.reduce(r); }\n\nClassic.prototype.convert = cConvert;\nClassic.prototype.revert = cRevert;\nClassic.prototype.reduce = cReduce;\nClassic.prototype.mulTo = cMulTo;\nClassic.prototype.sqrTo = cSqrTo;\n\n// (protected) return \"-1/this % 2^DB\"; useful for Mont. reduction\n// justification:\n//         xy == 1 (mod m)\n//         xy =  1+km\n//   xy(2-xy) = (1+km)(1-km)\n// x[y(2-xy)] = 1-k^2m^2\n// x[y(2-xy)] == 1 (mod m^2)\n// if y is 1/x mod m, then y(2-xy) is 1/x mod m^2\n// should reduce x and y(2-xy) by m^2 at each step to keep size bounded.\n// JS multiply \"overflows\" differently from C/C++, so care is needed here.\nfunction bnpInvDigit() {\n  if(this.t < 1) return 0;\n  var x = this[0];\n  if((x&1) == 0) return 0;\n  var y = x&3;\t\t// y == 1/x mod 2^2\n  y = (y*(2-(x&0xf)*y))&0xf;\t// y == 1/x mod 2^4\n  y = (y*(2-(x&0xff)*y))&0xff;\t// y == 1/x mod 2^8\n  y = (y*(2-(((x&0xffff)*y)&0xffff)))&0xffff;\t// y == 1/x mod 2^16\n  // last step - calculate inverse mod DV directly;\n  // assumes 16 < DB <= 32 and assumes ability to handle 48-bit ints\n  y = (y*(2-x*y%this.DV))%this.DV;\t\t// y == 1/x mod 2^dbits\n  // we really want the negative inverse, and -DV < y < DV\n  return (y>0)?this.DV-y:-y;\n}\n\n// Montgomery reduction\nexport function Montgomery(m) {\n  this.m = m;\n  this.mp = m.invDigit();\n  this.mpl = this.mp&0x7fff;\n  this.mph = this.mp>>15;\n  this.um = (1<<(m.DB-15))-1;\n  this.mt2 = 2*m.t;\n}\n\n// xR mod m\nfunction montConvert(x) {\n  var r = nbi();\n  x.abs().dlShiftTo(this.m.t,r);\n  r.divRemTo(this.m,null,r);\n  if(x.s < 0 && r.compareTo(BigInteger.ZERO) > 0) this.m.subTo(r,r);\n  return r;\n}\n\n// x/R mod m\nfunction montRevert(x) {\n  var r = nbi();\n  x.copyTo(r);\n  this.reduce(r);\n  return r;\n}\n\n// x = x/R mod m (HAC 14.32)\nfunction montReduce(x) {\n  while(x.t <= this.mt2)\t// pad x so am has enough room later\n    x[x.t++] = 0;\n  for(var i = 0; i < this.m.t; ++i) {\n    // faster way of calculating u0 = x[i]*mp mod DV\n    var j = x[i]&0x7fff;\n    var u0 = (j*this.mpl+(((j*this.mph+(x[i]>>15)*this.mpl)&this.um)<<15))&x.DM;\n    // use am to combine the multiply-shift-add into one call\n    j = i+this.m.t;\n    x[j] += this.m.am(0,u0,x,i,0,this.m.t);\n    // propagate carry\n    while(x[j] >= x.DV) { x[j] -= x.DV; x[++j]++; }\n  }\n  x.clamp();\n  x.drShiftTo(this.m.t,x);\n  if(x.compareTo(this.m) >= 0) x.subTo(this.m,x);\n}\n\n// r = \"x^2/R mod m\"; x != r\nfunction montSqrTo(x,r) { x.squareTo(r); this.reduce(r); }\n\n// r = \"xy/R mod m\"; x,y != r\nfunction montMulTo(x,y,r) { x.multiplyTo(y,r); this.reduce(r); }\n\nMontgomery.prototype.convert = montConvert;\nMontgomery.prototype.revert = montRevert;\nMontgomery.prototype.reduce = montReduce;\nMontgomery.prototype.mulTo = montMulTo;\nMontgomery.prototype.sqrTo = montSqrTo;\n\n// (protected) true iff this is even\nfunction bnpIsEven() { return ((this.t>0)?(this[0]&1):this.s) == 0; }\n\n// (protected) this^e, e < 2^32, doing sqr and mul with \"r\" (HAC 14.79)\nfunction bnpExp(e,z) {\n  if(e > 0xffffffff || e < 1) return BigInteger.ONE;\n  var r = nbi(), r2 = nbi(), g = z.convert(this), i = nbits(e)-1;\n  g.copyTo(r);\n  while(--i >= 0) {\n    z.sqrTo(r,r2);\n    if((e&(1<<i)) > 0) z.mulTo(r2,g,r);\n    else { var t = r; r = r2; r2 = t; }\n  }\n  return z.revert(r);\n}\n\n// (public) this^e % m, 0 <= e < 2^32\nfunction bnModPowInt(e,m) {\n  var z;\n  if(e < 256 || m.isEven()) z = new Classic(m); else z = new Montgomery(m);\n  return this.exp(e,z);\n}\n\n// protected\nBigInteger.prototype.copyTo = bnpCopyTo;\nBigInteger.prototype.fromInt = bnpFromInt;\nBigInteger.prototype.fromString = bnpFromString;\nBigInteger.prototype.clamp = bnpClamp;\nBigInteger.prototype.dlShiftTo = bnpDLShiftTo;\nBigInteger.prototype.drShiftTo = bnpDRShiftTo;\nBigInteger.prototype.lShiftTo = bnpLShiftTo;\nBigInteger.prototype.rShiftTo = bnpRShiftTo;\nBigInteger.prototype.subTo = bnpSubTo;\nBigInteger.prototype.multiplyTo = bnpMultiplyTo;\nBigInteger.prototype.squareTo = bnpSquareTo;\nBigInteger.prototype.divRemTo = bnpDivRemTo;\nBigInteger.prototype.invDigit = bnpInvDigit;\nBigInteger.prototype.isEven = bnpIsEven;\nBigInteger.prototype.exp = bnpExp;\n\n// public\nBigInteger.prototype.toString = bnToString;\nBigInteger.prototype.negate = bnNegate;\nBigInteger.prototype.abs = bnAbs;\nBigInteger.prototype.compareTo = bnCompareTo;\nBigInteger.prototype.bitLength = bnBitLength;\nBigInteger.prototype.mod = bnMod;\nBigInteger.prototype.modPowInt = bnModPowInt;\n\n// \"constants\"\nBigInteger.ZERO = nbv(0);\nBigInteger.ONE = nbv(1);\n","import BigInteger,{intAt ,nbi,nbv,Classic,Montgomery,nbits} from './jsbn.js';\n// Copyright (c) 2005-2009  Tom Wu\n// All Rights Reserved.\n// See \"LICENSE\" for details.\n\n// Extended JavaScript BN functions, required for RSA private ops.\n\n// Version 1.1: new BigInteger(\"0\", 10) returns \"proper\" zero\n// Version 1.2: square() API, isProbablePrime fix\n\n// (public)\nfunction bnClone() { var r = nbi(); this.copyTo(r); return r; }\n\n// (public) return value as integer\nfunction bnIntValue() {\n  if(this.s < 0) {\n    if(this.t == 1) return this[0]-this.DV;\n    else if(this.t == 0) return -1;\n  }\n  else if(this.t == 1) return this[0];\n  else if(this.t == 0) return 0;\n  // assumes 16 < DB < 32\n  return ((this[1]&((1<<(32-this.DB))-1))<<this.DB)|this[0];\n}\n\n// (public) return value as byte\nfunction bnByteValue() { return (this.t==0)?this.s:(this[0]<<24)>>24; }\n\n// (public) return value as short (assumes DB>=16)\nfunction bnShortValue() { return (this.t==0)?this.s:(this[0]<<16)>>16; }\n\n// (protected) return x s.t. r^x < DV\nfunction bnpChunkSize(r) { return Math.floor(Math.LN2*this.DB/Math.log(r)); }\n\n// (public) 0 if this == 0, 1 if this > 0\nfunction bnSigNum() {\n  if(this.s < 0) return -1;\n  else if(this.t <= 0 || (this.t == 1 && this[0] <= 0)) return 0;\n  else return 1;\n}\n\n// (protected) convert to radix string\nfunction bnpToRadix(b) {\n  if(b == null) b = 10;\n  if(this.signum() == 0 || b < 2 || b > 36) return \"0\";\n  var cs = this.chunkSize(b);\n  var a = Math.pow(b,cs);\n  var d = nbv(a), y = nbi(), z = nbi(), r = \"\";\n  this.divRemTo(d,y,z);\n  while(y.signum() > 0) {\n    r = (a+z.intValue()).toString(b).substr(1) + r;\n    y.divRemTo(d,y,z);\n  }\n  return z.intValue().toString(b) + r;\n}\n\n// (protected) convert from radix string\nfunction bnpFromRadix(s,b) {\n  this.fromInt(0);\n  if(b == null) b = 10;\n  var cs = this.chunkSize(b);\n  var d = Math.pow(b,cs), mi = false, j = 0, w = 0;\n  for(var i = 0; i < s.length; ++i) {\n    var x = intAt(s,i);\n    if(x < 0) {\n      if(s.charAt(i) == \"-\" && this.signum() == 0) mi = true;\n      continue;\n    }\n    w = b*w+x;\n    if(++j >= cs) {\n      this.dMultiply(d);\n      this.dAddOffset(w,0);\n      j = 0;\n      w = 0;\n    }\n  }\n  if(j > 0) {\n    this.dMultiply(Math.pow(b,j));\n    this.dAddOffset(w,0);\n  }\n  if(mi) BigInteger.ZERO.subTo(this,this);\n}\n\n// (protected) alternate constructor\nexport function bnpFromNumber(a,b,c) {\n  if(\"number\" == typeof b) {\n    // new BigInteger(int,int,RNG)\n    if(a < 2) this.fromInt(1);\n    else {\n      this.fromNumber(a,c);\n      if(!this.testBit(a-1))\t// force MSB set\n        this.bitwiseTo(BigInteger.ONE.shiftLeft(a-1),op_or,this);\n      if(this.isEven()) this.dAddOffset(1,0); // force odd\n      while(!this.isProbablePrime(b)) {\n        this.dAddOffset(2,0);\n        if(this.bitLength() > a) this.subTo(BigInteger.ONE.shiftLeft(a-1),this);\n      }\n    }\n  }\n  else {\n    // new BigInteger(int,RNG)\n    var x = new Array(), t = a&7;\n    x.length = (a>>3)+1;\n    b.nextBytes(x);\n    if(t > 0) x[0] &= ((1<<t)-1); else x[0] = 0;\n    this.fromString(x,256);\n  }\n}\n\n// (public) convert to bigendian byte array\nfunction bnToByteArray() {\n  var i = this.t, r = new Array();\n  r[0] = this.s;\n  var p = this.DB-(i*this.DB)%8, d, k = 0;\n  if(i-- > 0) {\n    if(p < this.DB && (d = this[i]>>p) != (this.s&this.DM)>>p)\n      r[k++] = d|(this.s<<(this.DB-p));\n    while(i >= 0) {\n      if(p < 8) {\n        d = (this[i]&((1<<p)-1))<<(8-p);\n        d |= this[--i]>>(p+=this.DB-8);\n      }\n      else {\n        d = (this[i]>>(p-=8))&0xff;\n        if(p <= 0) { p += this.DB; --i; }\n      }\n      if((d&0x80) != 0) d |= -256;\n      if(k == 0 && (this.s&0x80) != (d&0x80)) ++k;\n      if(k > 0 || d != this.s) r[k++] = d;\n    }\n  }\n  return r;\n}\n\nfunction bnEquals(a) { return(this.compareTo(a)==0); }\nfunction bnMin(a) { return(this.compareTo(a)<0)?this:a; }\nfunction bnMax(a) { return(this.compareTo(a)>0)?this:a; }\n\n// (protected) r = this op a (bitwise)\nfunction bnpBitwiseTo(a,op,r) {\n  var i, f, m = Math.min(a.t,this.t);\n  for(i = 0; i < m; ++i) r[i] = op(this[i],a[i]);\n  if(a.t < this.t) {\n    f = a.s&this.DM;\n    for(i = m; i < this.t; ++i) r[i] = op(this[i],f);\n    r.t = this.t;\n  }\n  else {\n    f = this.s&this.DM;\n    for(i = m; i < a.t; ++i) r[i] = op(f,a[i]);\n    r.t = a.t;\n  }\n  r.s = op(this.s,a.s);\n  r.clamp();\n}\n\n// (public) this & a\nfunction op_and(x,y) { return x&y; }\nfunction bnAnd(a) { var r = nbi(); this.bitwiseTo(a,op_and,r); return r; }\n\n// (public) this | a\nfunction op_or(x,y) { return x|y; }\nfunction bnOr(a) { var r = nbi(); this.bitwiseTo(a,op_or,r); return r; }\n\n// (public) this ^ a\nfunction op_xor(x,y) { return x^y; }\nfunction bnXor(a) { var r = nbi(); this.bitwiseTo(a,op_xor,r); return r; }\n\n// (public) this & ~a\nfunction op_andnot(x,y) { return x&~y; }\nfunction bnAndNot(a) { var r = nbi(); this.bitwiseTo(a,op_andnot,r); return r; }\n\n// (public) ~this\nfunction bnNot() {\n  var r = nbi();\n  for(var i = 0; i < this.t; ++i) r[i] = this.DM&~this[i];\n  r.t = this.t;\n  r.s = ~this.s;\n  return r;\n}\n\n// (public) this << n\nfunction bnShiftLeft(n) {\n  var r = nbi();\n  if(n < 0) this.rShiftTo(-n,r); else this.lShiftTo(n,r);\n  return r;\n}\n\n// (public) this >> n\nfunction bnShiftRight(n) {\n  var r = nbi();\n  if(n < 0) this.lShiftTo(-n,r); else this.rShiftTo(n,r);\n  return r;\n}\n\n// return index of lowest 1-bit in x, x < 2^31\nfunction lbit(x) {\n  if(x == 0) return -1;\n  var r = 0;\n  if((x&0xffff) == 0) { x >>= 16; r += 16; }\n  if((x&0xff) == 0) { x >>= 8; r += 8; }\n  if((x&0xf) == 0) { x >>= 4; r += 4; }\n  if((x&3) == 0) { x >>= 2; r += 2; }\n  if((x&1) == 0) ++r;\n  return r;\n}\n\n// (public) returns index of lowest 1-bit (or -1 if none)\nfunction bnGetLowestSetBit() {\n  for(var i = 0; i < this.t; ++i)\n    if(this[i] != 0) return i*this.DB+lbit(this[i]);\n  if(this.s < 0) return this.t*this.DB;\n  return -1;\n}\n\n// return number of 1 bits in x\nfunction cbit(x) {\n  var r = 0;\n  while(x != 0) { x &= x-1; ++r; }\n  return r;\n}\n\n// (public) return number of set bits\nfunction bnBitCount() {\n  var r = 0, x = this.s&this.DM;\n  for(var i = 0; i < this.t; ++i) r += cbit(this[i]^x);\n  return r;\n}\n\n// (public) true iff nth bit is set\nfunction bnTestBit(n) {\n  var j = Math.floor(n/this.DB);\n  if(j >= this.t) return(this.s!=0);\n  return((this[j]&(1<<(n%this.DB)))!=0);\n}\n\n// (protected) this op (1<<n)\nfunction bnpChangeBit(n,op) {\n  var r = BigInteger.ONE.shiftLeft(n);\n  this.bitwiseTo(r,op,r);\n  return r;\n}\n\n// (public) this | (1<<n)\nfunction bnSetBit(n) { return this.changeBit(n,op_or); }\n\n// (public) this & ~(1<<n)\nfunction bnClearBit(n) { return this.changeBit(n,op_andnot); }\n\n// (public) this ^ (1<<n)\nfunction bnFlipBit(n) { return this.changeBit(n,op_xor); }\n\n// (protected) r = this + a\nfunction bnpAddTo(a,r) {\n  var i = 0, c = 0, m = Math.min(a.t,this.t);\n  while(i < m) {\n    c += this[i]+a[i];\n    r[i++] = c&this.DM;\n    c >>= this.DB;\n  }\n  if(a.t < this.t) {\n    c += a.s;\n    while(i < this.t) {\n      c += this[i];\n      r[i++] = c&this.DM;\n      c >>= this.DB;\n    }\n    c += this.s;\n  }\n  else {\n    c += this.s;\n    while(i < a.t) {\n      c += a[i];\n      r[i++] = c&this.DM;\n      c >>= this.DB;\n    }\n    c += a.s;\n  }\n  r.s = (c<0)?-1:0;\n  if(c > 0) r[i++] = c;\n  else if(c < -1) r[i++] = this.DV+c;\n  r.t = i;\n  r.clamp();\n}\n\n// (public) this + a\nfunction bnAdd(a) { var r = nbi(); this.addTo(a,r); return r; }\n\n// (public) this - a\nfunction bnSubtract(a) { var r = nbi(); this.subTo(a,r); return r; }\n\n// (public) this * a\nfunction bnMultiply(a) { var r = nbi(); this.multiplyTo(a,r); return r; }\n\n// (public) this^2\nfunction bnSquare() { var r = nbi(); this.squareTo(r); return r; }\n\n// (public) this / a\nfunction bnDivide(a) { var r = nbi(); this.divRemTo(a,r,null); return r; }\n\n// (public) this % a\nfunction bnRemainder(a) { var r = nbi(); this.divRemTo(a,null,r); return r; }\n\n// (public) [this/a,this%a]\nfunction bnDivideAndRemainder(a) {\n  var q = nbi(), r = nbi();\n  this.divRemTo(a,q,r);\n  return new Array(q,r);\n}\n\n// (protected) this *= n, this >= 0, 1 < n < DV\nfunction bnpDMultiply(n) {\n  this[this.t] = this.am(0,n-1,this,0,0,this.t);\n  ++this.t;\n  this.clamp();\n}\n\n// (protected) this += n << w words, this >= 0\nfunction bnpDAddOffset(n,w) {\n  if(n == 0) return;\n  while(this.t <= w) this[this.t++] = 0;\n  this[w] += n;\n  while(this[w] >= this.DV) {\n    this[w] -= this.DV;\n    if(++w >= this.t) this[this.t++] = 0;\n    ++this[w];\n  }\n}\n\n// A \"null\" reducer\nfunction NullExp() {}\nfunction nNop(x) { return x; }\nfunction nMulTo(x,y,r) { x.multiplyTo(y,r); }\nfunction nSqrTo(x,r) { x.squareTo(r); }\n\nNullExp.prototype.convert = nNop;\nNullExp.prototype.revert = nNop;\nNullExp.prototype.mulTo = nMulTo;\nNullExp.prototype.sqrTo = nSqrTo;\n\n// (public) this^e\nfunction bnPow(e) { return this.exp(e,new NullExp()); }\n\n// (protected) r = lower n words of \"this * a\", a.t <= n\n// \"this\" should be the larger one if appropriate.\nfunction bnpMultiplyLowerTo(a,n,r) {\n  var i = Math.min(this.t+a.t,n);\n  r.s = 0; // assumes a,this >= 0\n  r.t = i;\n  while(i > 0) r[--i] = 0;\n  var j;\n  for(j = r.t-this.t; i < j; ++i) r[i+this.t] = this.am(0,a[i],r,i,0,this.t);\n  for(j = Math.min(a.t,n); i < j; ++i) this.am(0,a[i],r,i,0,n-i);\n  r.clamp();\n}\n\n// (protected) r = \"this * a\" without lower n words, n > 0\n// \"this\" should be the larger one if appropriate.\nfunction bnpMultiplyUpperTo(a,n,r) {\n  --n;\n  var i = r.t = this.t+a.t-n;\n  r.s = 0; // assumes a,this >= 0\n  while(--i >= 0) r[i] = 0;\n  for(i = Math.max(n-this.t,0); i < a.t; ++i)\n    r[this.t+i-n] = this.am(n-i,a[i],r,0,0,this.t+i-n);\n  r.clamp();\n  r.drShiftTo(1,r);\n}\n\n// Barrett modular reduction\nexport default function Barrett(m) {\n  // setup Barrett\n  this.r2 = nbi();\n  this.q3 = nbi();\n  BigInteger.ONE.dlShiftTo(2*m.t,this.r2);\n  this.mu = this.r2.divide(m);\n  this.m = m;\n}\n\nexport function barrettConvert(x) {\n  if(x.s < 0 || x.t > 2*this.m.t) return x.mod(this.m);\n  else if(x.compareTo(this.m) < 0) return x;\n  else { var r = nbi(); x.copyTo(r); this.reduce(r); return r; }\n}\n\nexport function barrettRevert(x) { return x; }\n\n// x = x mod m (HAC 14.42)\nexport function barrettReduce(x) {\n  x.drShiftTo(this.m.t-1,this.r2);\n  if(x.t > this.m.t+1) { x.t = this.m.t+1; x.clamp(); }\n  this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3);\n  this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);\n  while(x.compareTo(this.r2) < 0) x.dAddOffset(1,this.m.t+1);\n  x.subTo(this.r2,x);\n  while(x.compareTo(this.m) >= 0) x.subTo(this.m,x);\n}\n\n// r = x^2 mod m; x != r\nexport function barrettSqrTo(x,r) { x.squareTo(r); this.reduce(r); }\n\n// r = x*y mod m; x,y != r\nexport function barrettMulTo(x,y,r) { x.multiplyTo(y,r); this.reduce(r); }\n\nBarrett.prototype.convert = barrettConvert;\nBarrett.prototype.revert = barrettRevert;\nBarrett.prototype.reduce = barrettReduce;\nBarrett.prototype.mulTo = barrettMulTo;\nBarrett.prototype.sqrTo = barrettSqrTo;\n\n// (public) this^e % m (HAC 14.85)\nfunction bnModPow(e,m) {\n  var i = e.bitLength(), k, r = nbv(1), z;\n  if(i <= 0) return r;\n  else if(i < 18) k = 1;\n  else if(i < 48) k = 3;\n  else if(i < 144) k = 4;\n  else if(i < 768) k = 5;\n  else k = 6;\n  if(i < 8)\n    z = new Classic(m);\n  else if(m.isEven())\n    z = new Barrett(m);\n  else\n    z = new Montgomery(m);\n\n  // precomputation\n  var g = new Array(), n = 3, k1 = k-1, km = (1<<k)-1;\n  g[1] = z.convert(this);\n  if(k > 1) {\n    var g2 = nbi();\n    z.sqrTo(g[1],g2);\n    while(n <= km) {\n      g[n] = nbi();\n      z.mulTo(g2,g[n-2],g[n]);\n      n += 2;\n    }\n  }\n\n  var j = e.t-1, w, is1 = true, r2 = nbi(), t;\n  i = nbits(e[j])-1;\n  while(j >= 0) {\n    if(i >= k1) w = (e[j]>>(i-k1))&km;\n    else {\n      w = (e[j]&((1<<(i+1))-1))<<(k1-i);\n      if(j > 0) w |= e[j-1]>>(this.DB+i-k1);\n    }\n\n    n = k;\n    while((w&1) == 0) { w >>= 1; --n; }\n    if((i -= n) < 0) { i += this.DB; --j; }\n    if(is1) {\t// ret == 1, don't bother squaring or multiplying it\n      g[w].copyTo(r);\n      is1 = false;\n    }\n    else {\n      while(n > 1) { z.sqrTo(r,r2); z.sqrTo(r2,r); n -= 2; }\n      if(n > 0) z.sqrTo(r,r2); else { t = r; r = r2; r2 = t; }\n      z.mulTo(r2,g[w],r);\n    }\n\n    while(j >= 0 && (e[j]&(1<<i)) == 0) {\n      z.sqrTo(r,r2); t = r; r = r2; r2 = t;\n      if(--i < 0) { i = this.DB-1; --j; }\n    }\n  }\n  return z.revert(r);\n}\n\n// (public) gcd(this,a) (HAC 14.54)\nfunction bnGCD(a) {\n  var x = (this.s<0)?this.negate():this.clone();\n  var y = (a.s<0)?a.negate():a.clone();\n  if(x.compareTo(y) < 0) { var t = x; x = y; y = t; }\n  var i = x.getLowestSetBit(), g = y.getLowestSetBit();\n  if(g < 0) return x;\n  if(i < g) g = i;\n  if(g > 0) {\n    x.rShiftTo(g,x);\n    y.rShiftTo(g,y);\n  }\n  while(x.signum() > 0) {\n    if((i = x.getLowestSetBit()) > 0) x.rShiftTo(i,x);\n    if((i = y.getLowestSetBit()) > 0) y.rShiftTo(i,y);\n    if(x.compareTo(y) >= 0) {\n      x.subTo(y,x);\n      x.rShiftTo(1,x);\n    }\n    else {\n      y.subTo(x,y);\n      y.rShiftTo(1,y);\n    }\n  }\n  if(g > 0) y.lShiftTo(g,y);\n  return y;\n}\n\n// (protected) this % n, n < 2^26\nfunction bnpModInt(n) {\n  if(n <= 0) return 0;\n  var d = this.DV%n, r = (this.s<0)?n-1:0;\n  if(this.t > 0)\n    if(d == 0) r = this[0]%n;\n    else for(var i = this.t-1; i >= 0; --i) r = (d*r+this[i])%n;\n  return r;\n}\n\n// (public) 1/this % m (HAC 14.61)\nfunction bnModInverse(m) {\n  var ac = m.isEven();\n  if((this.isEven() && ac) || m.signum() == 0) return BigInteger.ZERO;\n  var u = m.clone(), v = this.clone();\n  var a = nbv(1), b = nbv(0), c = nbv(0), d = nbv(1);\n  while(u.signum() != 0) {\n    while(u.isEven()) {\n      u.rShiftTo(1,u);\n      if(ac) {\n        if(!a.isEven() || !b.isEven()) { a.addTo(this,a); b.subTo(m,b); }\n        a.rShiftTo(1,a);\n      }\n      else if(!b.isEven()) b.subTo(m,b);\n      b.rShiftTo(1,b);\n    }\n    while(v.isEven()) {\n      v.rShiftTo(1,v);\n      if(ac) {\n        if(!c.isEven() || !d.isEven()) { c.addTo(this,c); d.subTo(m,d); }\n        c.rShiftTo(1,c);\n      }\n      else if(!d.isEven()) d.subTo(m,d);\n      d.rShiftTo(1,d);\n    }\n    if(u.compareTo(v) >= 0) {\n      u.subTo(v,u);\n      if(ac) a.subTo(c,a);\n      b.subTo(d,b);\n    }\n    else {\n      v.subTo(u,v);\n      if(ac) c.subTo(a,c);\n      d.subTo(b,d);\n    }\n  }\n  if(v.compareTo(BigInteger.ONE) != 0) return BigInteger.ZERO;\n  if(d.compareTo(m) >= 0) return d.subtract(m);\n  if(d.signum() < 0) d.addTo(m,d); else return d;\n  if(d.signum() < 0) return d.add(m); else return d;\n}\n\nvar lowprimes = [2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997];\nvar lplim = (1<<26)/lowprimes[lowprimes.length-1];\n\n// (public) test primality with certainty >= 1-.5^t\nfunction bnIsProbablePrime(t) {\n  var i, x = this.abs();\n  if(x.t == 1 && x[0] <= lowprimes[lowprimes.length-1]) {\n    for(i = 0; i < lowprimes.length; ++i)\n      if(x[0] == lowprimes[i]) return true;\n    return false;\n  }\n  if(x.isEven()) return false;\n  i = 1;\n  while(i < lowprimes.length) {\n    var m = lowprimes[i], j = i+1;\n    while(j < lowprimes.length && m < lplim) m *= lowprimes[j++];\n    m = x.modInt(m);\n    while(i < j) if(m%lowprimes[i++] == 0) return false;\n  }\n  return x.millerRabin(t);\n}\n\n// (protected) true if probably prime (HAC 4.24, Miller-Rabin)\nfunction bnpMillerRabin(t) {\n  var n1 = this.subtract(BigInteger.ONE);\n  var k = n1.getLowestSetBit();\n  if(k <= 0) return false;\n  var r = n1.shiftRight(k);\n  t = (t+1)>>1;\n  if(t > lowprimes.length) t = lowprimes.length;\n  var a = nbi();\n  for(var i = 0; i < t; ++i) {\n    //Pick bases at random, instead of starting at 2\n    a.fromInt(lowprimes[Math.floor(Math.random()*lowprimes.length)]);\n    var y = a.modPow(r,this);\n    if(y.compareTo(BigInteger.ONE) != 0 && y.compareTo(n1) != 0) {\n      var j = 1;\n      while(j++ < k && y.compareTo(n1) != 0) {\n        y = y.modPowInt(2,this);\n        if(y.compareTo(BigInteger.ONE) == 0) return false;\n      }\n      if(y.compareTo(n1) != 0) return false;\n    }\n  }\n  return true;\n}\n\n// protected\nBigInteger.prototype.chunkSize = bnpChunkSize;\nBigInteger.prototype.toRadix = bnpToRadix;\nBigInteger.prototype.fromRadix = bnpFromRadix;\nBigInteger.prototype.fromNumber = bnpFromNumber;\nBigInteger.prototype.bitwiseTo = bnpBitwiseTo;\nBigInteger.prototype.changeBit = bnpChangeBit;\nBigInteger.prototype.addTo = bnpAddTo;\nBigInteger.prototype.dMultiply = bnpDMultiply;\nBigInteger.prototype.dAddOffset = bnpDAddOffset;\nBigInteger.prototype.multiplyLowerTo = bnpMultiplyLowerTo;\nBigInteger.prototype.multiplyUpperTo = bnpMultiplyUpperTo;\nBigInteger.prototype.modInt = bnpModInt;\nBigInteger.prototype.millerRabin = bnpMillerRabin;\n\n// public\nBigInteger.prototype.clone = bnClone;\nBigInteger.prototype.intValue = bnIntValue;\nBigInteger.prototype.byteValue = bnByteValue;\nBigInteger.prototype.shortValue = bnShortValue;\nBigInteger.prototype.signum = bnSigNum;\nBigInteger.prototype.toByteArray = bnToByteArray;\nBigInteger.prototype.equals = bnEquals;\nBigInteger.prototype.min = bnMin;\nBigInteger.prototype.max = bnMax;\nBigInteger.prototype.and = bnAnd;\nBigInteger.prototype.or = bnOr;\nBigInteger.prototype.xor = bnXor;\nBigInteger.prototype.andNot = bnAndNot;\nBigInteger.prototype.not = bnNot;\nBigInteger.prototype.shiftLeft = bnShiftLeft;\nBigInteger.prototype.shiftRight = bnShiftRight;\nBigInteger.prototype.getLowestSetBit = bnGetLowestSetBit;\nBigInteger.prototype.bitCount = bnBitCount;\nBigInteger.prototype.testBit = bnTestBit;\nBigInteger.prototype.setBit = bnSetBit;\nBigInteger.prototype.clearBit = bnClearBit;\nBigInteger.prototype.flipBit = bnFlipBit;\nBigInteger.prototype.add = bnAdd;\nBigInteger.prototype.subtract = bnSubtract;\nBigInteger.prototype.multiply = bnMultiply;\nBigInteger.prototype.divide = bnDivide;\nBigInteger.prototype.remainder = bnRemainder;\nBigInteger.prototype.divideAndRemainder = bnDivideAndRemainder;\nBigInteger.prototype.modPow = bnModPow;\nBigInteger.prototype.modInverse = bnModInverse;\nBigInteger.prototype.pow = bnPow;\nBigInteger.prototype.gcd = bnGCD;\nBigInteger.prototype.isProbablePrime = bnIsProbablePrime;\n\n// JSBN-specific extension\nBigInteger.prototype.square = bnSquare;\n\n// BigInteger interfaces not implemented in jsbn:\n\n// BigInteger(int signum, byte[] magnitude)\n// double doubleValue()\n// float floatValue()\n// int hashCode()\n// long longValue()\n// static BigInteger valueOf(long val)\n","import BigInteger from './jsbn.js';\nimport Barrett from './jsbn2.js';\n// Basic Javascript Elliptic Curve implementation\n// Ported loosely from BouncyCastle's Java EC code\n// Only Fp curves implemented for now\n\n// Requires jsbn.js and jsbn2.js\n\n// ----------------\n// ECFieldElementFp\n\n// constructor\nfunction ECFieldElementFp(q,x) {\n    this.x = x;\n    // TODO if(x.compareTo(q) >= 0) error\n    this.q = q;\n}\n\nfunction feFpEquals(other) {\n    if(other == this) return true;\n    return (this.q.equals(other.q) && this.x.equals(other.x));\n}\n\nfunction feFpToBigInteger() {\n    return this.x;\n}\n\nfunction feFpNegate() {\n    return new ECFieldElementFp(this.q, this.x.negate().mod(this.q));\n}\n\nfunction feFpAdd(b) {\n    return new ECFieldElementFp(this.q, this.x.add(b.toBigInteger()).mod(this.q));\n}\n\nfunction feFpSubtract(b) {\n    return new ECFieldElementFp(this.q, this.x.subtract(b.toBigInteger()).mod(this.q));\n}\n\nfunction feFpMultiply(b) {\n    return new ECFieldElementFp(this.q, this.x.multiply(b.toBigInteger()).mod(this.q));\n}\n\nfunction feFpSquare() {\n    return new ECFieldElementFp(this.q, this.x.square().mod(this.q));\n}\n\nfunction feFpDivide(b) {\n    return new ECFieldElementFp(this.q, this.x.multiply(b.toBigInteger().modInverse(this.q)).mod(this.q));\n}\n\nECFieldElementFp.prototype.equals = feFpEquals;\nECFieldElementFp.prototype.toBigInteger = feFpToBigInteger;\nECFieldElementFp.prototype.negate = feFpNegate;\nECFieldElementFp.prototype.add = feFpAdd;\nECFieldElementFp.prototype.subtract = feFpSubtract;\nECFieldElementFp.prototype.multiply = feFpMultiply;\nECFieldElementFp.prototype.square = feFpSquare;\nECFieldElementFp.prototype.divide = feFpDivide;\n\n// ----------------\n// ECPointFp\n\n// constructor\nexport function ECPointFp(curve,x,y,z) {\n    this.curve = curve;\n    this.x = x;\n    this.y = y;\n    // Projective coordinates: either zinv == null or z * zinv == 1\n    // z and zinv are just BigIntegers, not fieldElements\n    if(z == null) {\n      this.z = BigInteger.ONE;\n    }\n    else {\n      this.z = z;\n    }\n    this.zinv = null;\n    //TODO: compression flag\n}\n\nfunction pointFpGetX() {\n    if(this.zinv == null) {\n      this.zinv = this.z.modInverse(this.curve.q);\n    }\n    var r = this.x.toBigInteger().multiply(this.zinv);\n    this.curve.reduce(r);\n    return this.curve.fromBigInteger(r);\n}\n\nfunction pointFpGetY() {\n    if(this.zinv == null) {\n      this.zinv = this.z.modInverse(this.curve.q);\n    }\n    var r = this.y.toBigInteger().multiply(this.zinv);\n    this.curve.reduce(r);\n    return this.curve.fromBigInteger(r);\n}\n\nfunction pointFpEquals(other) {\n    if(other == this) return true;\n    if(this.isInfinity()) return other.isInfinity();\n    if(other.isInfinity()) return this.isInfinity();\n    var u, v;\n    // u = Y2 * Z1 - Y1 * Z2\n    u = other.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(other.z)).mod(this.curve.q);\n    if(!u.equals(BigInteger.ZERO)) return false;\n    // v = X2 * Z1 - X1 * Z2\n    v = other.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(other.z)).mod(this.curve.q);\n    return v.equals(BigInteger.ZERO);\n}\n\nfunction pointFpIsInfinity() {\n    if((this.x == null) && (this.y == null)) return true;\n    return this.z.equals(BigInteger.ZERO) && !this.y.toBigInteger().equals(BigInteger.ZERO);\n}\n\nfunction pointFpNegate() {\n    return new ECPointFp(this.curve, this.x, this.y.negate(), this.z);\n}\n\nfunction pointFpAdd(b) {\n    if(this.isInfinity()) return b;\n    if(b.isInfinity()) return this;\n\n    // u = Y2 * Z1 - Y1 * Z2\n    var u = b.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(b.z)).mod(this.curve.q);\n    // v = X2 * Z1 - X1 * Z2\n    var v = b.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(b.z)).mod(this.curve.q);\n\n    if(BigInteger.ZERO.equals(v)) {\n        if(BigInteger.ZERO.equals(u)) {\n            return this.twice(); // this == b, so double\n        }\n\treturn this.curve.getInfinity(); // this = -b, so infinity\n    }\n\n    var THREE = new BigInteger(\"3\");\n    var x1 = this.x.toBigInteger();\n    var y1 = this.y.toBigInteger();\n    var x2 = b.x.toBigInteger();\n    var y2 = b.y.toBigInteger();\n\n    var v2 = v.square();\n    var v3 = v2.multiply(v);\n    var x1v2 = x1.multiply(v2);\n    var zu2 = u.square().multiply(this.z);\n\n    // x3 = v * (z2 * (z1 * u^2 - 2 * x1 * v^2) - v^3)\n    var x3 = zu2.subtract(x1v2.shiftLeft(1)).multiply(b.z).subtract(v3).multiply(v).mod(this.curve.q);\n    // y3 = z2 * (3 * x1 * u * v^2 - y1 * v^3 - z1 * u^3) + u * v^3\n    var y3 = x1v2.multiply(THREE).multiply(u).subtract(y1.multiply(v3)).subtract(zu2.multiply(u)).multiply(b.z).add(u.multiply(v3)).mod(this.curve.q);\n    // z3 = v^3 * z1 * z2\n    var z3 = v3.multiply(this.z).multiply(b.z).mod(this.curve.q);\n\n    return new ECPointFp(this.curve, this.curve.fromBigInteger(x3), this.curve.fromBigInteger(y3), z3);\n}\n\nfunction pointFpTwice() {\n    if(this.isInfinity()) return this;\n    if(this.y.toBigInteger().signum() == 0) return this.curve.getInfinity();\n\n    // TODO: optimized handling of constants\n    var THREE = new BigInteger(\"3\");\n    var x1 = this.x.toBigInteger();\n    var y1 = this.y.toBigInteger();\n\n    var y1z1 = y1.multiply(this.z);\n    var y1sqz1 = y1z1.multiply(y1).mod(this.curve.q);\n    var a = this.curve.a.toBigInteger();\n\n    // w = 3 * x1^2 + a * z1^2\n    var w = x1.square().multiply(THREE);\n    if(!BigInteger.ZERO.equals(a)) {\n      w = w.add(this.z.square().multiply(a));\n    }\n    w = w.mod(this.curve.q);\n    //this.curve.reduce(w);\n    // x3 = 2 * y1 * z1 * (w^2 - 8 * x1 * y1^2 * z1)\n    var x3 = w.square().subtract(x1.shiftLeft(3).multiply(y1sqz1)).shiftLeft(1).multiply(y1z1).mod(this.curve.q);\n    // y3 = 4 * y1^2 * z1 * (3 * w * x1 - 2 * y1^2 * z1) - w^3\n    var y3 = w.multiply(THREE).multiply(x1).subtract(y1sqz1.shiftLeft(1)).shiftLeft(2).multiply(y1sqz1).subtract(w.square().multiply(w)).mod(this.curve.q);\n    // z3 = 8 * (y1 * z1)^3\n    var z3 = y1z1.square().multiply(y1z1).shiftLeft(3).mod(this.curve.q);\n\n    return new ECPointFp(this.curve, this.curve.fromBigInteger(x3), this.curve.fromBigInteger(y3), z3);\n}\n\n// Simple NAF (Non-Adjacent Form) multiplication algorithm\n// TODO: modularize the multiplication algorithm\nfunction pointFpMultiply(k) {\n    if(this.isInfinity()) return this;\n    if(k.signum() == 0) return this.curve.getInfinity();\n\n    var e = k;\n    var h = e.multiply(new BigInteger(\"3\"));\n\n    var neg = this.negate();\n    var R = this;\n\n    var i;\n    for(i = h.bitLength() - 2; i > 0; --i) {\n\tR = R.twice();\n\n\tvar hBit = h.testBit(i);\n\tvar eBit = e.testBit(i);\n\n\tif (hBit != eBit) {\n\t    R = R.add(hBit ? this : neg);\n\t}\n    }\n\n    return R;\n}\n\n// Compute this*j + x*k (simultaneous multiplication)\nfunction pointFpMultiplyTwo(j,x,k) {\n  var i;\n  if(j.bitLength() > k.bitLength())\n    i = j.bitLength() - 1;\n  else\n    i = k.bitLength() - 1;\n\n  var R = this.curve.getInfinity();\n  var both = this.add(x);\n  while(i >= 0) {\n    R = R.twice();\n    if(j.testBit(i)) {\n      if(k.testBit(i)) {\n        R = R.add(both);\n      }\n      else {\n        R = R.add(this);\n      }\n    }\n    else {\n      if(k.testBit(i)) {\n        R = R.add(x);\n      }\n    }\n    --i;\n  }\n\n  return R;\n}\n\nECPointFp.prototype.getX = pointFpGetX;\nECPointFp.prototype.getY = pointFpGetY;\nECPointFp.prototype.equals = pointFpEquals;\nECPointFp.prototype.isInfinity = pointFpIsInfinity;\nECPointFp.prototype.negate = pointFpNegate;\nECPointFp.prototype.add = pointFpAdd;\nECPointFp.prototype.twice = pointFpTwice;\nECPointFp.prototype.multiply = pointFpMultiply;\nECPointFp.prototype.multiplyTwo = pointFpMultiplyTwo;\n\n// ----------------\n// ECCurveFp\n\n// constructor\nexport function ECCurveFp(q,a,b) {\n    this.q = q;\n    this.a = this.fromBigInteger(a);\n    this.b = this.fromBigInteger(b);\n    this.infinity = new ECPointFp(this, null, null);\n    this.reducer = new Barrett(this.q);\n}\n\nfunction curveFpGetQ() {\n    return this.q;\n}\n\nfunction curveFpGetA() {\n    return this.a;\n}\n\nfunction curveFpGetB() {\n    return this.b;\n}\n\nfunction curveFpEquals(other) {\n    if(other == this) return true;\n    return(this.q.equals(other.q) && this.a.equals(other.a) && this.b.equals(other.b));\n}\n\nfunction curveFpGetInfinity() {\n    return this.infinity;\n}\n\nfunction curveFpFromBigInteger(x) {\n    return new ECFieldElementFp(this.q, x);\n}\n\nfunction curveReduce(x) {\n    this.reducer.reduce(x);\n}\n\n// for now, work with hex strings because they're easier in JS\nfunction curveFpDecodePointHex(s) {\n    switch(parseInt(s.substr(0,2), 16)) { // first byte\n    case 0:\n\treturn this.infinity;\n    case 2:\n    case 3:\n\t// point compression not supported yet\n\treturn null;\n    case 4:\n    case 6:\n    case 7:\n\tvar len = (s.length - 2) / 2;\n\tvar xHex = s.substr(2, len);\n\tvar yHex = s.substr(len+2, len);\n\n\treturn new ECPointFp(this,\n\t\t\t     this.fromBigInteger(new BigInteger(xHex, 16)),\n\t\t\t     this.fromBigInteger(new BigInteger(yHex, 16)));\n\n    default: // unsupported\n\treturn null;\n    }\n}\n\nfunction curveFpEncodePointHex(p) {\n\tif (p.isInfinity()) return \"00\";\n\tvar xHex = p.getX().toBigInteger().toString(16);\n\tvar yHex = p.getY().toBigInteger().toString(16);\n\tvar oLen = this.getQ().toString(16).length;\n\tif ((oLen % 2) != 0) oLen++;\n\twhile (xHex.length < oLen) {\n\t\txHex = \"0\" + xHex;\n\t}\n\twhile (yHex.length < oLen) {\n\t\tyHex = \"0\" + yHex;\n\t}\n\treturn \"04\" + xHex + yHex;\n}\n\nECCurveFp.prototype.getQ = curveFpGetQ;\nECCurveFp.prototype.getA = curveFpGetA;\nECCurveFp.prototype.getB = curveFpGetB;\nECCurveFp.prototype.equals = curveFpEquals;\nECCurveFp.prototype.getInfinity = curveFpGetInfinity;\nECCurveFp.prototype.fromBigInteger = curveFpFromBigInteger;\nECCurveFp.prototype.reduce = curveReduce;\nECCurveFp.prototype.decodePointHex = curveFpDecodePointHex;\nECCurveFp.prototype.encodePointHex = curveFpEncodePointHex;\n","// prng4.js - uses Arcfour as a PRNG\n\nfunction Arcfour() {\n  this.i = 0;\n  this.j = 0;\n  this.S = new Array();\n}\n\n// Initialize arcfour context from key, an array of ints, each from [0..255]\nfunction ARC4init(key) {\n  var i, j, t;\n  for(i = 0; i < 256; ++i)\n    this.S[i] = i;\n  j = 0;\n  for(i = 0; i < 256; ++i) {\n    j = (j + this.S[i] + key[i % key.length]) & 255;\n    t = this.S[i];\n    this.S[i] = this.S[j];\n    this.S[j] = t;\n  }\n  this.i = 0;\n  this.j = 0;\n}\n\nfunction ARC4next() {\n  var t;\n  this.i = (this.i + 1) & 255;\n  this.j = (this.j + this.S[this.i]) & 255;\n  t = this.S[this.i];\n  this.S[this.i] = this.S[this.j];\n  this.S[this.j] = t;\n  return this.S[(t + this.S[this.i]) & 255];\n}\n\nArcfour.prototype.init = ARC4init;\nArcfour.prototype.next = ARC4next;\n\n// Plug in your RNG constructor here\nexport default function prng_newstate() {\n  return new Arcfour();\n}\n\n// Pool size must be a multiple of 4 and greater than 32.\n// An array of bytes the size of the pool will be passed to init()\nvar rng_psize = 256;\n","import  prng_newstate  from './prng4.js';\n\nvar rng_psize = 256;\n// Random number generator - requires a PRNG backend, e.g. prng4.js\n\n// For best results, put code like\n// <body onClick='rng_seed_time();' onKeyPress='rng_seed_time();'>\n// in your main HTML document.\n\nvar rng_state;\nvar rng_pool;\nvar rng_pptr;\n\n// Mix in a 32-bit integer into the pool\nfunction rng_seed_int(x) {\n  rng_pool[rng_pptr++] ^= x & 255;\n  rng_pool[rng_pptr++] ^= (x >> 8) & 255;\n  rng_pool[rng_pptr++] ^= (x >> 16) & 255;\n  rng_pool[rng_pptr++] ^= (x >> 24) & 255;\n  if(rng_pptr >= rng_psize) rng_pptr -= rng_psize;\n}\n\n// Mix in the current time (w/milliseconds) into the pool\nfunction rng_seed_time() {\n  rng_seed_int(new Date().getTime());\n}\n\n// Initialize the pool with junk if needed.\nif(rng_pool == null) {\n  rng_pool = new Array();\n  rng_pptr = 0;\n  var t;\n  if(window.crypto && window.crypto.getRandomValues) {\n    // Use webcrypto if available\n    var ua = new Uint8Array(32);\n    window.crypto.getRandomValues(ua);\n    for(t = 0; t < 32; ++t)\n      rng_pool[rng_pptr++] = ua[t];\n  }\n  if(navigator.appName == \"Netscape\" && navigator.appVersion < \"5\" && window.crypto) {\n    // Extract entropy (256 bits) from NS4 RNG if available\n    var z = window.crypto.random(32);\n    for(t = 0; t < z.length; ++t)\n      rng_pool[rng_pptr++] = z.charCodeAt(t) & 255;\n  }  \n  while(rng_pptr < rng_psize) {  // extract some randomness from Math.random()\n    t = Math.floor(65536 * Math.random());\n    rng_pool[rng_pptr++] = t >>> 8;\n    rng_pool[rng_pptr++] = t & 255;\n  }\n  rng_pptr = 0;\n  rng_seed_time();\n  //rng_seed_int(window.screenX);\n  //rng_seed_int(window.screenY);\n}\n\nfunction rng_get_byte() {\n  if(rng_state == null) {\n    rng_seed_time();\n    rng_state = prng_newstate();\n    rng_state.init(rng_pool);\n    for(rng_pptr = 0; rng_pptr < rng_pool.length; ++rng_pptr)\n      rng_pool[rng_pptr] = 0;\n    rng_pptr = 0;\n    //rng_pool = null;\n  }\n  // TODO: allow reseeding after first request\n  return rng_state.next();\n}\n\nfunction rng_get_bytes(ba) {\n  var i;\n  for(i = 0; i < ba.length; ++i) ba[i] = rng_get_byte();\n}\n\nexport default function SecureRandom() {}\n\nSecureRandom.prototype.nextBytes = rng_get_bytes;\n","import BigInteger from 'js-jsbn';\nimport { ECPointFp,ECCurveFp } from './ec.js';\n// Named EC curves\n\n// Requires ec.js, jsbn.js, and jsbn2.js\n\n// ----------------\n// X9ECParameters\n\n// constructor\nfunction X9ECParameters(curve,g,n,h) {\n    this.curve = curve;\n    this.g = g;\n    this.n = n;\n    this.h = h;\n}\n\nfunction x9getCurve() {\n    return this.curve;\n}\n\nfunction x9getG() {\n    return this.g;\n}\n\nfunction x9getN() {\n    return this.n;\n}\n\nfunction x9getH() {\n    return this.h;\n}\n\nX9ECParameters.prototype.getCurve = x9getCurve;\nX9ECParameters.prototype.getG = x9getG;\nX9ECParameters.prototype.getN = x9getN;\nX9ECParameters.prototype.getH = x9getH;\n\n// ----------------\n// SECNamedCurves\n\nfunction fromHex(s) { return new BigInteger(s, 16); }\n\nfunction secp128r1() {\n    // p = 2^128 - 2^97 - 1\n    var p = fromHex(\"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF\");\n    var a = fromHex(\"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC\");\n    var b = fromHex(\"E87579C11079F43DD824993C2CEE5ED3\");\n    //byte[] S = Hex.decode(\"000E0D4D696E6768756151750CC03A4473D03679\");\n    var n = fromHex(\"FFFFFFFE0000000075A30D1B9038A115\");\n    var h = BigInteger.ONE;\n    var curve = new ECCurveFp(p, a, b);\n    var G = curve.decodePointHex(\"04\"\n                + \"161FF7528B899B2D0C28607CA52C5B86\"\n\t\t+ \"CF5AC8395BAFEB13C02DA292DDED7A83\");\n    return new X9ECParameters(curve, G, n, h);\n}\n\nfunction secp160k1() {\n    // p = 2^160 - 2^32 - 2^14 - 2^12 - 2^9 - 2^8 - 2^7 - 2^3 - 2^2 - 1\n    var p = fromHex(\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73\");\n    var a = BigInteger.ZERO;\n    var b = fromHex(\"7\");\n    //byte[] S = null;\n    var n = fromHex(\"0100000000000000000001B8FA16DFAB9ACA16B6B3\");\n    var h = BigInteger.ONE;\n    var curve = new ECCurveFp(p, a, b);\n    var G = curve.decodePointHex(\"04\"\n                + \"3B4C382CE37AA192A4019E763036F4F5DD4D7EBB\"\n                + \"938CF935318FDCED6BC28286531733C3F03C4FEE\");\n    return new X9ECParameters(curve, G, n, h);\n}\n\nfunction secp160r1() {\n    // p = 2^160 - 2^31 - 1\n    var p = fromHex(\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF\");\n    var a = fromHex(\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC\");\n    var b = fromHex(\"1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45\");\n    //byte[] S = Hex.decode(\"1053CDE42C14D696E67687561517533BF3F83345\");\n    var n = fromHex(\"0100000000000000000001F4C8F927AED3CA752257\");\n    var h = BigInteger.ONE;\n    var curve = new ECCurveFp(p, a, b);\n    var G = curve.decodePointHex(\"04\"\n\t\t+ \"4A96B5688EF573284664698968C38BB913CBFC82\"\n\t\t+ \"23A628553168947D59DCC912042351377AC5FB32\");\n    return new X9ECParameters(curve, G, n, h);\n}\n\nfunction secp192k1() {\n    // p = 2^192 - 2^32 - 2^12 - 2^8 - 2^7 - 2^6 - 2^3 - 1\n    var p = fromHex(\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37\");\n    var a = BigInteger.ZERO;\n    var b = fromHex(\"3\");\n    //byte[] S = null;\n    var n = fromHex(\"FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D\");\n    var h = BigInteger.ONE;\n    var curve = new ECCurveFp(p, a, b);\n    var G = curve.decodePointHex(\"04\"\n                + \"DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D\"\n                + \"9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D\");\n    return new X9ECParameters(curve, G, n, h);\n}\n\nfunction secp192r1() {\n    // p = 2^192 - 2^64 - 1\n    var p = fromHex(\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF\");\n    var a = fromHex(\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC\");\n    var b = fromHex(\"64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1\");\n    //byte[] S = Hex.decode(\"3045AE6FC8422F64ED579528D38120EAE12196D5\");\n    var n = fromHex(\"FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831\");\n    var h = BigInteger.ONE;\n    var curve = new ECCurveFp(p, a, b);\n    var G = curve.decodePointHex(\"04\"\n                + \"188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012\"\n                + \"07192B95FFC8DA78631011ED6B24CDD573F977A11E794811\");\n    return new X9ECParameters(curve, G, n, h);\n}\n\nfunction secp224r1() {\n    // p = 2^224 - 2^96 + 1\n    var p = fromHex(\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001\");\n    var a = fromHex(\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE\");\n    var b = fromHex(\"B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4\");\n    //byte[] S = Hex.decode(\"BD71344799D5C7FCDC45B59FA3B9AB8F6A948BC5\");\n    var n = fromHex(\"FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D\");\n    var h = BigInteger.ONE;\n    var curve = new ECCurveFp(p, a, b);\n    var G = curve.decodePointHex(\"04\"\n                + \"B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21\"\n                + \"BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34\");\n    return new X9ECParameters(curve, G, n, h);\n}\n\nfunction secp256r1() {\n    // p = 2^224 (2^32 - 1) + 2^192 + 2^96 - 1\n    var p = fromHex(\"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF\");\n    var a = fromHex(\"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC\");\n    var b = fromHex(\"5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B\");\n    //byte[] S = Hex.decode(\"C49D360886E704936A6678E1139D26B7819F7E90\");\n    var n = fromHex(\"FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551\");\n    var h = BigInteger.ONE;\n    var curve = new ECCurveFp(p, a, b);\n    var G = curve.decodePointHex(\"04\"\n                + \"6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296\"\n\t\t+ \"4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5\");\n    return new X9ECParameters(curve, G, n, h);\n}\n\n// TODO: make this into a proper hashtable\nexport function getSECCurveByName(name) {\n    if(name == \"secp128r1\") return secp128r1();\n    if(name == \"secp160k1\") return secp160k1();\n    if(name == \"secp160r1\") return secp160r1();\n    if(name == \"secp192k1\") return secp192k1();\n    if(name == \"secp192r1\") return secp192r1();\n    if(name == \"secp224r1\") return secp224r1();\n    if(name == \"secp256r1\") return secp256r1();\n    return null;\n}\n","import Web3 from 'web3';\r\nimport { ECPointFp,ECCurveFp } from './lib/ec.js';\r\nimport BigInteger from './lib/jsbn.js';\r\nimport SecureRandom from './lib/rng.js';\r\nimport {getSECCurveByName} from './lib/sec.js';\r\n\r\nconst ec_params = getSECCurveByName('secp256r1');\r\nconst Curve = ec_params.getCurve();\r\nconst Q = ec_params.getCurve().getQ();\r\nconst P = new BigInteger(\"FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551\",16);\r\nconst G = ec_params.getG();\r\nconst N = ec_params.getN();\r\nlet n1 = N.subtract(BigInteger.ONE);\r\n\r\nlet rng = new SecureRandom();\r\n\r\nexport function getRandomIntModN(){\r\n    let r = new BigInteger(N.bitLength(),rng);\r\n    r = r.mod(n1).add(BigInteger.ONE).mod(N);\r\n    // console.log(r.toString(10));\r\n    return r;\r\n}\r\n\r\nexport function getRandomInt(){\r\n    let r = new BigInteger(N.bitLength(),rng);\r\n    r = r.mod(n1).add(BigInteger.ONE).mod(P);\r\n    // console.log(r.toString(10));\r\n    return r;\r\n}\r\n\r\nexport function getPublicKeyXY(privateKeyString){\r\n    const prvKey = new BigInteger(privateKeyString,10);\r\n    const pubKey = G.multiply(prvKey);\r\n    const X = pubKey.getX().toBigInteger().toString(10);\r\n    const Y = pubKey.getY().toBigInteger().toString(10);\r\n    return [X,Y];\r\n}\r\n\r\nexport function getPublicKeyHex(privateKeyString){\r\n    const prvKey = new BigInteger(privateKeyString,10);\r\n    const pubKey = G.multiply(prvKey);\r\n    return publicKeyToHex(pubKey);\r\n}\r\n\r\nexport function genKeyPair(){\r\n    let privateKey = getRandomInt();\r\n    let publicKey = G.multiply(privateKey);\r\n    let privateKeyHex = privateKey.toString(16);\r\n    let zeros = \"\";\r\n    for(let i=0;i<(64-privateKeyHex.length);i++){\r\n        zeros+=\"0\";\r\n    }\r\n    // console.log(zeros);\r\n    return {\r\n        privateKey: zeros+privateKeyHex,\r\n        publicKey: publicKeyToHex(publicKey)\r\n    };\r\n}\r\n\r\nexport function genKeyPairs(num){\r\n    let tmp = [];\r\n    for(let i=0;i<num;i++){\r\n        tmp.push(genKeyPair());\r\n    }\r\n    console.log(tmp);\r\n    return tmp;\r\n}\r\n\r\nexport function publicKeyToHex(publicKey){\r\n    // if (publicKey.isInfinity()) return \"00\";\r\n    let x = publicKey.getX().toBigInteger().toString(16);\r\n    let y = publicKey.getY().toBigInteger().toString(16);\r\n    for(let i=0;i<(64-x.length);i++){\r\n        x+=\"0\";\r\n    }\r\n    for(let i=0;i<(64-y.length);i++){\r\n        y+=\"0\";\r\n    }\r\n    let hex = \"04\" + x + y;\r\n    // console.log(hex);\r\n    return hex;\r\n}\r\n\r\n\r\n\r\nexport function hexToPublicKey(publicKeyHex){\r\n    publicKeyHex = publicKeyHex.slice(2,);\r\n    let x = publicKeyHex.slice(0,64);\r\n    let y = publicKeyHex.slice(64);\r\n    // console.log(x);\r\n    // console.log(y);\r\n    // console.log(x.length);\r\n    // console.log(y.length);\r\n    let publicKey = new ECPointFp(\r\n        Curve,\r\n        Curve.fromBigInteger(new BigInteger(x,16)),\r\n        Curve.fromBigInteger(new BigInteger(y,16))\r\n    );\r\n    // console.log(publicKey);\r\n    return publicKey;\r\n}\r\n// genKeyPair();\r\n\r\nexport function messageToInt(message){\r\n    // console.log(message);\r\n    // console.log(message.slice(2,));\r\n    const num = new BigInteger(message.slice(2,),16).mod(N);\r\n    console.log(num);\r\n    return num;\r\n\r\n    // return hash1(message);\r\n}\r\n\r\nexport function hash1(message){\r\n    console.log(message.toString(10));\r\n    let digest = Web3.utils.soliditySha3({type:'uint256',value:message.toString(10)});\r\n    let num = new BigInteger(digest.slice(2,),16).mod(N);\r\n    // console.log(num.toString(10));\r\n    return num;\r\n}\r\n\r\n// https://crypto.stackexchange.com/questions/60904/right-way-to-hash-elliptic-curve-points-into-finite-field\r\nexport function hash2(message){\r\n    // console.log(message.toString(10));\r\n    // console.log(G.multiply(hash1(message)).getX().toBigInteger().toString(10));\r\n    // console.log(G.multiply(hash1(message)).getY().toBigInteger().toString(10));\r\n    return G.multiply(hash1(message));\r\n    // return mapToCurve(hash1(message));\r\n}\r\n\r\nexport function concateArray(arr){\r\n    let num = new BigInteger(\"0\",16);\r\n    for(let i=0;i<arr.length;i++){\r\n        num = num.add(arr[i]).mod(N);\r\n    }\r\n    return num;\r\n}\r\n\r\nexport function pointToXYInt(p){\r\n    let x = p.getX().toBigInteger().toString(10);\r\n    let y = p.getY().toBigInteger().toString(10);\r\n    return [x,y]\r\n}\r\n\r\nexport function decimalStrToHexStr(d){\r\n    return new BigInteger(d,10).toString(16);\r\n}\r\n\r\nexport function intTopoint(x,y){\r\n    let point = new ECPointFp(\r\n        Curve,\r\n        Curve.fromBigInteger(new BigInteger(x,10)),\r\n        Curve.fromBigInteger(new BigInteger(y,10))\r\n    );\r\n    return point;\r\n}\r\n\r\n\r\nexport function pointToInt(p){\r\n    // if(p.isInfinity()){return new BigInteger(\"0\",16);}\r\n    // console.log(p);\r\n    let x = p.getX().toBigInteger();\r\n    let y = p.getY().toBigInteger();\r\n    // console.log(x.toString(16));\r\n    // console.log(y.toString(16));\r\n    // console.log(x.add(y).mod(N).toString(10));\r\n    // console.log(x.add(y));\r\n    return x.add(y).mod(N);\r\n}\r\n\r\n// sqrt() function refer to \r\n// https://www.tutorialguruji.com/javascript/javascript-big-integer-square-root/\r\nfunction sqrt(value) {\r\n    if (value.compareTo(new BigInteger(\"0\",16)) < 0) {\r\n        throw 'square root of negative numbers is not supported'\r\n    }\r\n\r\n    if (value.compareTo(new BigInteger(\"2\",16)) < 0) {\r\n        return value;\r\n    }\r\n\r\n    function newtonIteration(n, x0) {\r\n        const x1 = n.divide(x0).add(x0).shiftRight(new BigInteger(\"1\",16));\r\n        if (x0.compareTo(x1) === 0 || x0.compareTo(x1.subtract(new BigInteger(\"1\",16))) === 0) {\r\n            return x0;\r\n        }\r\n        return newtonIteration(n, x1);\r\n    }\r\n\r\n    return newtonIteration(value, new BigInteger(\"1\",16));\r\n}\r\n\r\n// try and increase\r\nexport function mapToCurve(x){\r\n    let point;\r\n    const Three = new BigInteger(\"3\",16);\r\n    const A = new BigInteger(\"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC\",16);\r\n    const B = new BigInteger(\"5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B\",16);\r\n    let y = sqrt(x.pow(Three).add(A.multiply(x)).add(B).mod(P));\r\n    while(true){\r\n        // console.log(x.toString(16));\r\n        // console.log(y.toString(16));\r\n        try{\r\n            point = new ECPointFp(\r\n                Curve,\r\n                Curve.fromBigInteger(x),\r\n                Curve.fromBigInteger(y)\r\n            );\r\n            return point;\r\n        }catch{\r\n            y++;\r\n        }\r\n    }\r\n}\r\n\r\nexport function paddingStr(str){\r\n    while(str.length<32){\r\n        str = str+'\\0';\r\n    }\r\n    return str;\r\n}\r\n\r\nexport function removePadding(str){\r\n    return str.split(\"\\0\")[0];\r\n}","import BigInteger from '../linkable_ring_signature/lib/jsbn.js';\r\nimport {intTopoint,mapToCurve,pointToXYInt,getRandomInt} from '../linkable_ring_signature/utils';\r\nimport {getSECCurveByName} from '../linkable_ring_signature/lib/sec.js';\r\nimport Web3 from 'web3';\r\n\r\nconst ec_params = getSECCurveByName('secp256r1');\r\nconst N = ec_params.getN();\r\nconst G = ec_params.getG();\r\nconst H = G.multiply(new BigInteger('10',10));\r\nconsole.log(pointToXYInt(H));\r\n\r\nexport function genCommitment(secret){\r\n    let x = new BigInteger(secret,16);\r\n    let r = getRandomInt();\r\n    let rG = G.multiply(r);\r\n    let xH = H.multiply(x);\r\n    let rG_plus_xH = rG.add(xH);\r\n    let salt = getRandomInt();\r\n    let encR = r.xor(x.add(salt).mod(new BigInteger(\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF\",16)));\r\n    // console.log(\"r\",r.toString(16));\r\n    // console.log(\"rr\",encR.xor(x.add(salt).mod(N)).toString(16));\r\n    return [pointToXYInt(rG_plus_xH),encR.toString(10),salt.toString(10)];\r\n}\r\n\r\nexport function verifyCommitment(R,X,commitments){\r\n    let LHS;\r\n    for(let i=0;i<commitments.length;i++){\r\n        console.log(commitments[i]);\r\n        if(i==0){\r\n            LHS = intTopoint(commitments[i].x,commitments[i].y);\r\n        }else{\r\n            LHS = LHS.add(intTopoint(commitments[i].x,commitments[i].y));\r\n        }\r\n    }\r\n    let RHS = G.multiply(R).add(H.multiply(X));\r\n    return LHS.equals(RHS);\r\n}\r\n\r\nexport function hashSecret(secret){\r\n    console.log(secret);\r\n    return new BigInteger(Web3.utils.soliditySha3({\r\n        'string':secret\r\n    }).slice(34,),16);\r\n}\r\n\r\nexport function decryptR(secret,salt,encR){\r\n    encR = new BigInteger(encR,10);\r\n    salt = new BigInteger(salt,10);\r\n    let result = encR.xor(secret.add(salt).mod(new BigInteger(\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF\",16)));\r\n    console.log(result.toString(10));\r\n    return result;\r\n}\r\n\r\nfunction test(){\r\n    let s1=getRandomInt();\r\n    let s2=getRandomInt();\r\n    let s3=getRandomInt();\r\n    let t1 = genCommitment(s1);\r\n    let t2 = genCommitment(s2);\r\n    let t3 = genCommitment(s3);\r\n    let c1 = t1[0];\r\n    let c2 = t2[0];\r\n    let c3 = t3[0];\r\n    let r1 = t1[1];\r\n    let r2 = t2[1];\r\n    let r3 = t3[1];\r\n    let C = c1.add(c2).add(c3);\r\n    let x1 = new BigInteger(s1,16);\r\n    let x2 = new BigInteger(s2,16);\r\n    let x3 = new BigInteger(s3,16);\r\n    let R = r1.add(r2).add(r3);\r\n    let X = x1.add(x2).add(x3);\r\n    let CC = G.multiply(R).add(H.multiply(X));\r\n    // console.log(CC.equals(C));\r\n}\r\n\r\n// test();","import readXlsxFile from 'read-excel-file';\r\nimport Web3 from 'web3';\r\nimport {genCommitment} from '../pedersen_commitment/pedersen_commitment';\r\nimport {paddingStr} from '../linkable_ring_signature/utils';\r\n\r\n// export function encodeMsg(msg){\r\n//     let ret;\r\n//     ret = new Uint8Array(msg.length);\r\n//     for(let i=0;i<msg.length;i++){\r\n//         ret[i]=msg.charCodeAt(i);\r\n//     }\r\n//     return ret;\r\n// }\r\n\r\n// export function decodeMsg(msg,type=\"uint8\"){\r\n//     if(type==\"arrayBuffer\"){\r\n//         msg = new Uint8Array(msg);\r\n//     }\r\n//     let str = \"\";\r\n// \tfor (var i = 0; i < msg.length; i++) {\r\n// \t\tstr += String.fromCharCode(parseInt(msg[i]));\r\n// \t}\r\n//     return str;\r\n// }\r\n\r\nexport async function getVoterInfoCommitment(file){\r\n    let person = [];\r\n    let tmp;\r\n    let tmp2;\r\n    let h;\r\n    let commitment;\r\n    let encR;\r\n    let salt;\r\n    // let iv;\r\n    // let key_encoded;\r\n    // let ciphertext;\r\n    await readXlsxFile(file).then(async (rows)=>{\r\n        // console.log(rows[0]);\r\n        for(let i=1;i<rows.length;i++){\r\n            tmp = [];\r\n            for(let j=0;j<rows[i].length;j++){\r\n                console.log(rows[i][j]);\r\n                h = Web3.utils.soliditySha3({\r\n                    'string':rows[i][j]\r\n                }).slice(34,);\r\n                tmp2 = genCommitment(h);\r\n                commitment = tmp2[0];\r\n                encR = tmp2[1];\r\n                salt = tmp2[2];\r\n                tmp.push([commitment,encR,salt]);\r\n            }\r\n            person.push(tmp);\r\n        }\r\n        console.log(person);\r\n        \r\n    });\r\n    return person;\r\n}","import React, { Component, useState, useEffect, useRef}  from 'react';\r\nimport './newElection.css';\r\nimport Form from 'react-bootstrap/Form';\r\nimport FloatingLabel from 'react-bootstrap/FloatingLabel';\r\nimport { InputTags } from 'react-bootstrap-tagsinput';\r\nimport 'react-bootstrap-tagsinput/dist/index.css';\r\nimport Select from 'react-select';\r\nimport makeAnimated from 'react-select/animated';\r\nimport InputGroup from 'react-bootstrap/InputGroup';\r\nimport Button from 'react-bootstrap/Button';\r\nimport {MdOutlineFileUpload} from 'react-icons/md';\r\nimport ElectionABI from '../abis/Election.json';\r\nimport FormCheck from 'react-bootstrap/FormCheck';\r\nimport { getVoterInfoCommitment } from './registration/registration.js';\r\nimport Web3 from 'web3';\r\nimport {paddingStr} from '../components/linkable_ring_signature/utils';\r\n\r\nexport default function NewElection({electionAddresses,web3,handleCloseNewElection, votingApp, account}){\r\n\r\n    const [title,setTitle] = useState(\"\");\r\n    const [description,setDescription] = useState(\"\");\r\n    const [candidates,setCandidates] = useState([]);\r\n    const [voters,setVoters] = useState([]);\r\n    const [voter_options,setVoterOptions] = useState([]);\r\n    const [ec_publickeys,setECPubKeys] = useState([]);\r\n    const [min_shares,set_min_shares] = useState(0); \r\n    const [reg_time,set_reg_time] = useState(0); \r\n    const [shares_dis_time,set_shares_dis_time] = useState(0); \r\n    const [shares_ver_time,set_shares_ver_time] = useState(0); \r\n    const [vote_time,set_vote_time] = useState(0); \r\n    const [secret_upload_time,set_secret_upload_time] = useState(0); \r\n    const [reg_time_unit,set_reg_time_unit] = useState(0); \r\n    const [shares_dis_time_unit,set_shares_dis_time_unit] = useState(0); \r\n    const [shares_ver_time_unit,set_shares_ver_time_unit] = useState(0); \r\n    const [vote_time_unit,set_vote_time_unit] = useState(0); \r\n    const [secret_upload_time_unit,set_secret_upload_time_unit] = useState(0); \r\n    const [newEAddr,setNewEAddr] = useState(electionAddresses[electionAddresses.length-1]);\r\n    const [eInstance,setEInstance] = useState(null);\r\n    const [isSetUp,setIsSetUp] = useState(false);\r\n    const [isRegOn,setIsRegOn] = useState(0);\r\n    const [regInfo,setRegInfo] = useState([]);\r\n\r\n    const handleTitleChange = (e)=>{\r\n        setTitle(e.target.value);\r\n        // console.log(e.target.value);\r\n    }\r\n\r\n    const handleDescriptionChange = (e)=>{\r\n        setDescription(e.target.value);\r\n        // console.log(e.target.value);\r\n    }\r\n\r\n    const handleMinSharesChange = (e)=>{\r\n        set_min_shares(e.target.value);\r\n        // console.log(e.target.value);\r\n    }\r\n\r\n    const handleRegTimeChange = (e)=>{\r\n        if(isRegOn==1){\r\n            set_reg_time(e.target.value);\r\n            // console.log(e.target.value);\r\n        }\r\n    }\r\n\r\n    const handleKegGenTimeChange = (e)=>{\r\n        set_shares_dis_time(e.target.value);\r\n        // console.log(e.target.value);\r\n    }\r\n\r\n    const handleKegVerTimeChange = (e)=>{\r\n        set_shares_ver_time(e.target.value);\r\n        // console.log(e.target.value);\r\n    }\r\n\r\n    const handleVoteTimeChange = (e)=>{\r\n        set_vote_time(e.target.value);\r\n        // console.log(e.target.value);\r\n    }\r\n\r\n    const handleSecUpTimeChange = (e)=>{\r\n        set_secret_upload_time(e.target.value);\r\n        // console.log(e.target.value);\r\n    }\r\n\r\n    const handleRegTimeUnitChange = (e)=>{\r\n        set_reg_time_unit(e.target.value);\r\n        // console.log(e.target.value);\r\n    }\r\n\r\n    const handleKegGenTimeUnitChange = (e)=>{\r\n        set_shares_dis_time_unit(e.target.value);\r\n        // console.log(e.target.value);\r\n    }\r\n\r\n    const handleKegVerTimeUnitChange = (e)=>{\r\n        set_shares_ver_time_unit(e.target.value);\r\n        // console.log(e.target.value);\r\n    }\r\n\r\n    const handleVoteTimeUnitChange = (e)=>{\r\n        set_vote_time_unit(e.target.value);\r\n        // console.log(e.target.value);\r\n    }\r\n\r\n    const handleSecUpTimeUnitChange = (e)=>{\r\n        set_secret_upload_time_unit(e.target.value);\r\n        // console.log(e.target.value);\r\n    }\r\n\r\n    const handleVotersChange = (voter_options) =>{\r\n        setVoters(voter_options.map(obj => obj.value));\r\n        // console.log(voters);\r\n    }\r\n\r\n    const handleRegChange = () =>{\r\n        setIsRegOn((prev)=>(prev +1) % 2);\r\n        console.log((isRegOn + 1) % 2);\r\n    }\r\n\r\n    const handleRegInfoChange = async (e) =>{\r\n        if(isRegOn == 1){\r\n            const file = e.target.files[0];\r\n            const tmp = await getVoterInfoCommitment(file);\r\n            console.log(tmp);\r\n            setRegInfo((prev)=>tmp);\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n        if(eInstance!=null){\r\n            // listen new election event\r\n            eInstance.events.setElectionInfoEvent({},\r\n                async function(error, receipt) {\r\n                    if(error){\r\n                        console.error(error);\r\n                        alert(\"Set Up Election Failed\");\r\n                    }else{\r\n                        setIsSetUp(receipt.returnValues.isSetUp);\r\n                        alert(\"Set Up Election success\");\r\n                    }\r\n                }            \r\n            );\r\n        }\r\n\r\n    },[eInstance])\r\n\r\n    useEffect(()=>{\r\n        if(electionAddresses.length>0){\r\n            setNewEAddr(electionAddresses[electionAddresses.length-1]);\r\n            const eIn = new web3.eth.Contract(ElectionABI['abi'],electionAddresses[electionAddresses.length-1]);\r\n            setEInstance(eIn);\r\n        }\r\n    },[electionAddresses]);\r\n\r\n    const animatedComponents = makeAnimated();\r\n\r\n    const handlePublicKeysUpload = (e) => {\r\n        const file = e.target.files[0];\r\n        const reader = new FileReader();\r\n        reader.onload = (e) =>{\r\n            let publickeys = [];\r\n            let options = [];\r\n            const result = e.target.result;\r\n            // console.log(result);\r\n            const lines = result.split('\\r\\n');\r\n            lines.forEach((pubKey)=>{\r\n                publickeys.push(pubKey);\r\n                options.push({\r\n                    label: pubKey,\r\n                    value: pubKey\r\n                })\r\n            });\r\n            setVoterOptions(options);\r\n            setVoters(publickeys);\r\n        }\r\n        reader.readAsText(file);\r\n    };\r\n\r\n    const handleSend = () => {\r\n        // console.log(account);\r\n        // console.log(votingApp);\r\n        if(isSetUp){\r\n            alert(\"This eleciton already set up.\");\r\n            return;\r\n        }\r\n        const ec_publickeys = voters.map(v => [\"0x\"+v.slice(2,66),\"0x\"+v.slice(66,)]);\r\n        setECPubKeys(ec_publickeys);\r\n        console.log(ec_publickeys);\r\n        votingApp.methods.addElection().send({from: account, gas:300000000})\r\n        .on('error', function(error, receipt){\r\n            console.error(\"error:\",error); \r\n        });\r\n    }\r\n    \r\n    const handleSetUP = async () =>{\r\n        if(eInstance!=null){\r\n            await eInstance.methods.setElectionInfo(\r\n                [\r\n                    Web3.utils.asciiToHex(paddingStr(title)),\r\n                    Web3.utils.asciiToHex(paddingStr(description)),\r\n                    candidates.map((c)=>Web3.utils.asciiToHex(paddingStr(c))),ec_publickeys,\r\n                    min_shares,reg_time,shares_dis_time,shares_ver_time,\r\n                    vote_time,secret_upload_time,reg_time_unit,shares_dis_time_unit,\r\n                    shares_ver_time_unit,vote_time_unit,secret_upload_time_unit,\r\n                    isRegOn, regInfo\r\n                ]\r\n            ).send({from: account, gas:3000000});\r\n        }\r\n        \r\n    }\r\n\r\n\r\n    return (\r\n        <div className='newElection_container'>\r\n            <div className='form_container p-3 mt-2 shadow-lg bg-body rounded'>\r\n                <h4 className='p-pb-4 w-50'><strong >Create/Set Up New Election</strong></h4>\r\n                <strong className='ps-1'>Title</strong>\r\n                <Form.Control value={title} className='mt-1 mb-4' type=\"text\" placeholder='title' required id=\"titleInput\" onChange={handleTitleChange} />\r\n\r\n\r\n                <strong className='ps-1'>Description</strong>\r\n                <Form.Control value={description} onChange={handleDescriptionChange} className='mt-1 mb-4' style={{ height: '60px' }} as='textarea' type=\"text\" placeholder='description about the election' required id=\"descriptionInput\" />\r\n\r\n\r\n                <strong className='ps-1'>Candidates</strong>\r\n                <div className='input-group mt-1 mb-4'>\r\n                    <InputTags  values={candidates} onTags={(value) => setCandidates(value.values)} />\r\n                    <button\r\n                    className='btn btn-outline-dark'\r\n                    type='button'\r\n                    data-testid='button-clearAll'\r\n                    onClick={() => {\r\n                        setCandidates([])\r\n                    }}\r\n                    >\r\n                    Delete all\r\n                    </button>\r\n                </div>\r\n\r\n                <div className='row g-3'>\r\n                    <div className='col-9'>\r\n                        <strong className='ps-1'>\r\n                            Participants Public Keys\r\n                            <label className=\"ps-1 pb-2 pointer\">\r\n                                <input type=\"file\" className='d-none' onChange={handlePublicKeysUpload} />\r\n                                <MdOutlineFileUpload size='1.5rem'/>\r\n                            </label>\r\n                        </strong>\r\n                        <div className='mt-1 mb-4'>\r\n                            <Form.Control type=\"files\" size=\"sm\" className='mt-1 mb-2 d-none' />\r\n                            <Select\r\n                                closeMenuOnSelect={false}\r\n                                components={animatedComponents}\r\n                                isMulti\r\n                                isSearchable \r\n                                options={voter_options}\r\n                                value={voter_options.filter(obj => voters.includes(obj.value))}\r\n                                onChange={handleVotersChange}\r\n                                placeholder=\"Voter addresses\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className='col-3'>\r\n                        <div className='mt-1 mb-4'>\r\n                            <strong className='ps-1'> Minimum shares (t)</strong>\r\n                            <Form.Control value={min_shares} onChange={handleMinSharesChange} className='mt-2' type=\"number\" min={0} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div className='row g-3 '>\r\n                    <div className='col-12'>\r\n                        <div className=\"position-relative\">\r\n                            <strong>Participants Information (For Registration)</strong>\r\n                            <FormCheck type=\"switch\" id=\"Registration\" className='position-absolute top-0 register_switch' onChange={handleRegChange} />\r\n                        </div>\r\n                        <Form.Control accept=\".xlsx\" disabled={!(isRegOn==1)} type=\"file\" size=\"sm\" className=\"mt-1 mb-4\" onChange={handleRegInfoChange} /> \r\n                    </div>\r\n                </div>\r\n\r\n\r\n\r\n                <div className='row g-3'>\r\n                    <div className='col-md'>\r\n                        <strong className='ps-1'>Registration Time</strong>\r\n                        <InputGroup className='mt-1 mb-4 '>\r\n                            <Form.Control value={reg_time} type=\"number\"  min={0} onChange={handleRegTimeChange} />\r\n                            <FloatingLabel label=\"Unit\">\r\n                                <Form.Select value={reg_time_unit} onChange={handleRegTimeUnitChange}  aria-label=\"Time Unit of Registration\">\r\n                                    <option value={0}>Minutes</option>\r\n                                    <option value={1}>Hours</option>\r\n                                    <option value={2}>Days</option>\r\n                                </Form.Select>\r\n                            </FloatingLabel>\r\n                        </InputGroup>\r\n                    </div>\r\n                    <div className='col-md'>\r\n                        <strong className='ps-1'>Distribution Time</strong>\r\n                        <InputGroup className='mt-1 mb-4'>\r\n                            <Form.Control value={shares_dis_time} type=\"number\"  min={0} onChange={handleKegGenTimeChange} />\r\n                            <FloatingLabel label=\"Unit\">\r\n                                <Form.Select value={shares_dis_time_unit} onChange={handleKegGenTimeUnitChange}  aria-label=\"Time Unit of Shares Distribution\">\r\n                                    <option value={0}>Minutes</option>\r\n                                    <option value={1}>Hours</option>\r\n                                    <option value={2}>Days</option>\r\n                                </Form.Select>\r\n                            </FloatingLabel>\r\n                        </InputGroup>\r\n                    </div>\r\n                    <div className='col-md'>\r\n                        <strong className='ps-1'>Verification Time</strong>\r\n                        <InputGroup className='mt-1 mb-4'>\r\n                            <Form.Control value={shares_ver_time} type=\"number\"  min={0} onChange={handleKegVerTimeChange} />\r\n                            <FloatingLabel label=\"Unit\">\r\n                                <Form.Select value={shares_ver_time_unit} onChange={handleKegVerTimeUnitChange}  aria-label=\"Time Unit of Shares Verification\">\r\n                                    <option value={0}>Minutes</option>\r\n                                    <option value={1}>Hours</option>\r\n                                    <option value={2}>Days</option>\r\n                                </Form.Select>\r\n                            </FloatingLabel>\r\n                        </InputGroup>\r\n                    </div>\r\n                    <div className='col-md'>\r\n                        <strong className='ps-1'>Vote Time</strong>\r\n                        <InputGroup className='mt-1 mb-4'>\r\n                            <Form.Control value={vote_time} onChange={handleVoteTimeChange} type=\"number\" min={0} />\r\n                            <FloatingLabel label=\"Unit\">\r\n                                <Form.Select  value={vote_time_unit} onChange={handleVoteTimeUnitChange}  aria-label=\"Time Unit of Vote Time\">\r\n                                    <option value={0}>Minutes</option>\r\n                                    <option value={1}>Hours</option>\r\n                                    <option value={2}>Days</option>\r\n                                </Form.Select>\r\n                            </FloatingLabel>\r\n                        </InputGroup>\r\n                    </div>\r\n                    <div className='col-md'>\r\n                        <strong className='ps-1'>Secret Upload Time</strong>\r\n                        <InputGroup className='mt-1 mb-4'>\r\n                            <Form.Control value={secret_upload_time} onChange={handleSecUpTimeChange} type=\"number\"  min={0} />\r\n                            <FloatingLabel label=\"Unit\">\r\n                                <Form.Select value={secret_upload_time_unit} onChange={handleSecUpTimeUnitChange} aria-label=\"Time Unit of Secret Upload\">\r\n                                    <option value={0}>Minutes</option>\r\n                                    <option value={1}>Hours</option>\r\n                                    <option value={2}>Days</option>\r\n                                </Form.Select>\r\n                            </FloatingLabel>\r\n                        </InputGroup>\r\n                    </div>\r\n                </div>\r\n                <Button variant=\"light\" className='mt-3 me-1' onClick={handleCloseNewElection}>Canceal</Button> \r\n                <Button variant=\"outline-dark\" className=' mt-3 me-1' onClick={handleSend}>Create</Button>\r\n                <Button variant=\"dark\" className=' mt-3 me-1' onClick={handleSetUP}>Set Up</Button>\r\n                <FloatingLabel label=\"Election Address\" className=\"w-50 float-end\">\r\n                    <Form.Select value={newEAddr} aria-label=\"Election Address\">\r\n                        <option key={electionAddresses[electionAddresses.length-1]} \r\n                            value={electionAddresses[electionAddresses.length-1]}>\r\n                                {electionAddresses[electionAddresses.length-1]}\r\n                        </option>\r\n                    </Form.Select>\r\n                </FloatingLabel>\r\n            </div> \r\n        </div>\r\n        \r\n    );\r\n}","import Card from 'react-bootstrap/Card';\r\nimport Badge from 'react-bootstrap/Badge';\r\nimport { GrUserManager } from 'react-icons/gr';\r\nimport {MdDateRange} from 'react-icons/md';\r\nimport {BiTime} from 'react-icons/bi';\r\nimport {FaVoteYea} from 'react-icons/fa';\r\nimport './election.css';\r\nimport React, { Component, useState, useEffect, useRef}  from 'react';\r\nimport Web3 from 'web3';\r\nimport { removePadding } from './linkable_ring_signature/utils';\r\n\r\nexport default function Election({election,post_date,close_date,state_badge,state}){\r\n    return (\r\n        <Card className=\"m-3 p-3 shadow-lg bg-body rounded election_card\">\r\n            <Card.Subtitle className='pb-2'><FaVoteYea size='1.7rem' className='pb-1 pe-2'/>\r\n                <strong>{removePadding(Web3.utils.hexToAscii(election.title))}</strong>\r\n                <Badge bg={state_badge} className='float-end'>\r\n                    {state}\r\n                </Badge>\r\n            </Card.Subtitle>\r\n            <Card.Text className='pt-1'>\r\n                <small><em>{removePadding(Web3.utils.hexToAscii(election.description))}</em></small><br></br><br></br>\r\n                <MdDateRange size='1.3rem' className='pb-1 pe-1' /><small className=\"text-muted\">Posted On: {post_date}</small><br></br>\r\n                <BiTime size='1.3rem' className='pb-1 pe-1' /><small className=\"text-muted\">Closing From: {close_date}</small>\r\n            </Card.Text>\r\n        </Card>\r\n    );\r\n};","import BigInteger from 'js-jsbn';\r\nimport {getSECCurveByName} from './lib/sec.js';\r\nimport {sha256} from './lib/sha256.js';\r\nimport {getRandomInt,genKeyPair,publicKeyToHex,hexToPublicKey,hash1,\r\n    hash2,concateArray,pointToInt,messageToInt,genKeyPairs} from './utils.js';\r\n\r\nconst ec_params = getSECCurveByName('secp256r1');\r\nconst P = new BigInteger(\"FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551\",16);\r\nconst Curve = ec_params.getCurve();\r\nconst Q = ec_params.getCurve().getQ();\r\nconst G = ec_params.getG();\r\nconst N = ec_params.getN();\r\n\r\nexport function genSig(message,publicKeys,privateKey,identity){\r\n    console.log(\"%cGenerating Signature ......\",\"color: blue;\");\r\n    console.log(\"identity:\",identity);\r\n    identity = parseInt(identity);\r\n    let Y = publicKeys.map(p => hexToPublicKey(p));\r\n    let X = new BigInteger(privateKey,16);\r\n    let M = messageToInt(message);\r\n    let n = publicKeys.length;\r\n    let U = [n];\r\n    let V = [n];\r\n\r\n    let c = getRandomInt();\r\n    let L = concateArray( Y.map(p => pointToInt(p)) );\r\n    let H = hash2(L);\r\n    // console.log(H.isInfinity());\r\n    let K = H.multiply(X);\r\n    // console.log(K.isInfinity());\r\n    let cG = G.multiply(c);\r\n    let cH = H.multiply(c);\r\n    // console.log(pointToInt(K).toString(10));\r\n    // console.log(pointToInt(H).toString(10));\r\n    // console.log(cG);\r\n    // console.log(cH);\r\n    U[(identity+1)%n] = hash1(concateArray([L,pointToInt(K),M,pointToInt(cG),pointToInt(cH)]));\r\n    // console.log((identity+1)%n);\r\n    // console.log(U[(identity+1)%n].toString(10));\r\n    // console.log(U[(identity+1)%n].signum());\r\n    for(let i=1;i<n;i++){\r\n        const index = (identity+i) % n;\r\n        // console.log(U[i]);\r\n        let v = getRandomInt();\r\n        V[index] = v;\r\n        let vG = G.multiply(v);\r\n        // console.log(Y[i]);\r\n        let uY = Y[index].multiply(U[index]);\r\n        let vH = H.multiply(v);\r\n        let uK = K.multiply(U[index]);\r\n        console.log((index+1)% n);\r\n        U[(index+1)% n] = hash1(concateArray([L,pointToInt(K),M,\r\n        pointToInt(vG.add(uY)),pointToInt(vH.add(uK))]));\r\n        // console.log(U[(i+1)%n].toString(10));\r\n    }\r\n    V[identity] = c.subtract(X.multiply(U[identity])).mod(N);\r\n    // console.log(V[identity].toString(10));\r\n    // console.log(\"U: \",U.map(v => v.toString(10)));\r\n    // console.log();\r\n\r\n    // check uG == ( vG + uY ) of signer\r\n    let g = G.multiply(V[identity]).add(Y[identity].multiply(U[identity]));\r\n    // console.log(pointToInt(cG).toString(10));\r\n    // console.log(pointToInt(g).toString(10));\r\n    console.log(\"check uG == ( vG + uY ) of signer: \",g.equals(cG));\r\n\r\n    // check cH == ( vH + uK ) of signer \r\n    let h = H.multiply(V[identity]).add(K.multiply(U[identity]));\r\n    // console.log(pointToInt(cH).toString(10));\r\n    // console.log(pointToInt(h).toString(10));\r\n    console.log(\"check cH == ( vH + uK ) of signer: \",h.equals(cH));\r\n\r\n    // check U[identity + 1 % n] == H1(L||K||M||vG + uY||vH + uK)\r\n    let h1 = hash1(concateArray([L,pointToInt(K),M,pointToInt(g),pointToInt(h)])); \r\n    console.log(U[(identity+1)%n].toString(10));\r\n    console.log(h1.toString(10));\r\n    console.log(\"check U[identity + 1 % n] == H1(L||K||M||vG + uY||vH + uK): \",h1.compareTo(U[(identity+1)%n])===0);\r\n\r\n    if( g.equals(cG) && h.equals(cH) && h1.compareTo(U[(identity+1)%n])===0){\r\n        console.log(U[0].toString(16));\r\n        console.log(V.map(v => v.toString(16)));\r\n        console.log(publicKeyToHex(K));\r\n        return {\r\n            U0: U[0].toString(16),\r\n            V: V.map(v => v.toString(16)),\r\n            K: publicKeyToHex(K)\r\n        };\r\n    }else{\r\n        console.error(\"Generate Signature Failed.\");\r\n        return -1;         \r\n    }\r\n}\r\n\r\nexport function verifySig(message,publicKeys,sig){\r\n    console.log(\"%cVerifying Signature .......\",\"color:blue;\");\r\n    publicKeys = publicKeys.map(p => hexToPublicKey(p));\r\n    let M = messageToInt(message);\r\n    let n = publicKeys.length;\r\n    let U = [n];\r\n    U[0] = new BigInteger(sig.U0,16);\r\n    let V = sig.V.map(v => new BigInteger(v,16));\r\n    let K = hexToPublicKey(sig.K);\r\n    let L = concateArray( publicKeys.map(p => pointToInt(p)) );\r\n    console.log(L.toString(10));\r\n    let H = hash2(L);\r\n    // console.log(H.getX().toBigInteger().toString(16));\r\n    // console.log(H.getY().toBigInteger().toString(16));\r\n    // console.log(pointToInt(K).toString(10));\r\n    // console.log(pointToInt(H).toString(10));\r\n\r\n    for(let i=0;i<n;i++){\r\n        let v = V[i];\r\n        let vG = G.multiply(v);\r\n        // console.log(publicKeys[i]);\r\n        let uY = publicKeys[i].multiply(U[i]);\r\n        let vH = H.multiply(v);\r\n        let uK = K.multiply(U[i]);\r\n        // console.log(vG.getX().toBigInteger().toString(16));\r\n        // console.log(vG.getY().toBigInteger().toString(16));\r\n        // console.log(uY.getX().toBigInteger().toString(16));\r\n        // console.log(uY.getY().toBigInteger().toString(16));\r\n        // console.log(vG.add(uY).getX().toBigInteger().toString(16));\r\n        // console.log(vG.add(uY).getY().toBigInteger().toString(16));\r\n        if(i< n-1){\r\n            U[i+1] = hash1(concateArray([L,pointToInt(K),M,\r\n            pointToInt(vG.add(uY)),pointToInt(vH.add(uK))]));\r\n\r\n            console.log(\"U[\",i+1,\"]: \",U[i+1].toString(10));\r\n        }else{\r\n            let u = hash1(concateArray([L,pointToInt(K),M,\r\n            pointToInt(vG.add(uY)),pointToInt(vH.add(uK))]));\r\n            // console.log(u.toString(16));\r\n            console.log(u.compareTo(U[0]) === 0);\r\n            console.log(\"U[ 0 ]: \",u.toString(10));\r\n            console.log(\"Sig. U[ 0 ]: \",U[0].toString(10));\r\n            return u.compareTo(U[0]) === 0;\r\n        }\r\n    }\r\n}\r\n\r\nexport function test(){\r\n    // let keys = [\r\n    //     [\"1000d31b0765a902b986b74ffdbc536ec5f431bb6e6fa3260bed795f6d16e333\",\"517cfac01c2fa32a54a940942584c236a270013ad94a74c5db497d858dddec21\"],\r\n    //     [\"50cd64b4007993ce30e4867fb3aac583e7ad1f12fa0ececd0435a9dfa41b8783\",\"f36812dfd857f4994bbe02d31c5dfc9dfe5b8ebec797f98c14003c0e2ee815d7\"],\r\n    //     [\"f38a19a6d780c64a8fda160ca85bb0564dd3bcc5282250c8fdcf8b2e7ea3ad1b\",\"15238fa2f43a157bde96b458c31cbf34e68383ad89ea8f9ff682a1f6af928447\"],\r\n    //     [\"8f903311a50643ae5bdedc7d48000f8d688c49e53297d812f564ed3bec5c9eb8\",\"a34d77767bbf79ff11175dbc982465958f3ea9130a5a1f5cb9f25d812f58c157\"],\r\n    //     [\"e3cf1bfa6d4fe6846e5cd2b584341f24f80a6249ab93af50a2d368e768447aaa\",\"0c6aae7e4f1b743e8961957cd7764a6a8457475be394847138ca1d6a33bc9355\"],\r\n    //     [\"073b531239b0a9220e7593e8bd582974184b01ca6efb4a20b2ecaada45b97707\",\"5886f56afe847ffb155a8ebceb869e6b59729c8f1548c8b63b2b9bd376fcfecc\"]\r\n    // ];\r\n    // keys = keys.map(k => [new BigInteger(k[0],16),new BigInteger(k[1],16)]);\r\n    // let L = concateArray(keys.map(k=> k[0].add(k[1]).mod(N)));\r\n    // console.log(L.toString(10));\r\n    let keyPair1 = genKeyPair();\r\n    let keyPair2 = genKeyPair();\r\n    let keyPair3 = genKeyPair();\r\n    let keyPair4 = genKeyPair();\r\n    let keyPair5 = genKeyPair();\r\n\r\n    let publicKeys = [keyPair1.publicKey,keyPair2.publicKey,keyPair3.publicKey,keyPair4.publicKey,keyPair5.publicKey];\r\n    let privateKey = keyPair3.privateKey;\r\n    // console.log(\"public keys: \",publicKeys);\r\n    // let publicKeys = [\r\n    //     \"041000d31b0765a902b986b74ffdbc536ec5f431bb6e6fa3260bed795f6d16e333517cfac01c2fa32a54a940942584c236a270013ad94a74c5db497d858dddec21\",\r\n    //     \"0450cd64b4007993ce30e4867fb3aac583e7ad1f12fa0ececd0435a9dfa41b8783f36812dfd857f4994bbe02d31c5dfc9dfe5b8ebec797f98c14003c0e2ee815d7\",\r\n    //     \"04f38a19a6d780c64a8fda160ca85bb0564dd3bcc5282250c8fdcf8b2e7ea3ad1b15238fa2f43a157bde96b458c31cbf34e68383ad89ea8f9ff682a1f6af928447\",\r\n    //     \"048f903311a50643ae5bdedc7d48000f8d688c49e53297d812f564ed3bec5c9eb8a34d77767bbf79ff11175dbc982465958f3ea9130a5a1f5cb9f25d812f58c157\",\r\n    //     \"04e3cf1bfa6d4fe6846e5cd2b584341f24f80a6249ab93af50a2d368e768447aaa0c6aae7e4f1b743e8961957cd7764a6a8457475be394847138ca1d6a33bc9355\",\r\n    //     \"04073b531239b0a9220e7593e8bd582974184b01ca6efb4a20b2ecaada45b977075886f56afe847ffb155a8ebceb869e6b59729c8f1548c8b63b2b9bd376fcfecc\"\r\n    // ];\r\n\r\n    // let privateKey = \"a781489e7264eece8ee09efeac5cf2ebd1eaf46a0a91912998e31adad3997b3c\";\r\n\r\n    let identity = 2;   // signer's public key index\r\n    let message = \"1\";\r\n    let message2 = \"abc\";\r\n    let sig = genSig(message,publicKeys,privateKey,identity);\r\n    let verify = verifySig(message,publicKeys,sig);\r\n    console.log(\"check U[0] == Sig.U[0]: \",verify);\r\n    // let sig2 = genSig(message2,publicKeys,privateKey,identity);\r\n    // console.log(\"check Linkability: \",sig.K == sig2.K);\r\n}\r\n\r\n// test();\r\nconsole.log(genKeyPairs(2));\r\n","import React, { Component, useState, useEffect, useRef}  from 'react';\r\nimport FormControl from 'react-bootstrap/FormControl';\r\nimport InputGroup from 'react-bootstrap/InputGroup';\r\nimport {BiKey} from 'react-icons/bi';\r\n\r\nexport default function PrivateKey_item({k,privateKey,handlePrivateKeyChange}){\r\n    return <InputGroup  size=\"sm\" key={k}>\r\n            <InputGroup.Text><BiKey size=\"1.5rem\" />Private Key</InputGroup.Text>\r\n            <FormControl type=\"text\" value={privateKey}  onChange={handlePrivateKeyChange}></FormControl>\r\n        </InputGroup>      \r\n    ;\r\n};","import React, { Component, useState, useEffect, useRef}  from 'react';\r\nimport Form from 'react-bootstrap/Form';\r\nimport FloatingLabel from 'react-bootstrap/FloatingLabel';\r\nimport InputGroup from 'react-bootstrap/InputGroup';\r\n\r\nexport default function SelectCandidate_item({k,selectedCandidateID,handleSelectedCandidateIDChange,candidates}){\r\n    return (\r\n        <InputGroup size=\"sm\"  className='w-100' key={k}>\r\n            <InputGroup.Text>Vote For</InputGroup.Text>\r\n            <FloatingLabel className='w-75' controlId=\"floatingSelectGrid\" label=\"Candidate ID\">\r\n                <Form.Select  aria-label=\"\" value={selectedCandidateID} onChange={handleSelectedCandidateIDChange}>\r\n                    {candidates.map((c,i)=>{ return <option key={k+i} >{i}</option>})}\r\n                </Form.Select>\r\n            </FloatingLabel>\r\n        </InputGroup>\r\n    );\r\n}","import React, { Component, useState, useEffect, useRef}  from 'react';\r\nimport Form from 'react-bootstrap/Form';\r\nimport FloatingLabel from 'react-bootstrap/FloatingLabel';\r\nimport InputGroup from 'react-bootstrap/InputGroup';\r\n\r\nexport default function Publickey_index_item({k,publickeyIndex,handlePublicKeyIndexChange,publickeys}){\r\n    return (\r\n        <InputGroup size=\"sm\" className='mt-2' key={k}>\r\n            <InputGroup.Text>Public Key Index</InputGroup.Text>\r\n            <FloatingLabel className='w-50' controlId=\"\" label=\"Pub Key Index\">\r\n                <Form.Select value={publickeyIndex} onChange={handlePublicKeyIndexChange}>\r\n                    {publickeys.map((c,i)=>{ return <option key={k+i}>{i}</option>})}\r\n                </Form.Select>\r\n            </FloatingLabel>\r\n        </InputGroup>\r\n    );\r\n}","import React, { Component, useState, useEffect, useRef}  from 'react';\r\nimport Spinner from 'react-bootstrap/Spinner';\r\nimport {ImCross} from 'react-icons/im';\r\nimport Badge from 'react-bootstrap/Badge';\r\nimport {TiTick} from 'react-icons/ti';\r\n\r\nexport default function Badge_item({isDone,isLoading, text}){\r\n    const bg_color = (isDone)?\"success\":\"secondary\";\r\n    return (<Badge pill bg={bg_color} className='float-end me-1'>\r\n    {(isLoading)?<Spinner animation=\"border\" size=\"sm\" />\r\n        : <span></span>}\r\n    {(!isLoading && !isDone)?<ImCross className='p-1' fontSize={\"1.1rem\"}  />:<span></span>}\r\n    {(isDone)? <TiTick fontSize={\"1.1rem\"} />: <span></span>}\r\n    {text}\r\n</Badge>);\r\n}","import React, { Component, useState, useEffect, useRef}  from 'react';\r\nimport Form from 'react-bootstrap/Form';\r\nimport FloatingLabel from 'react-bootstrap/FloatingLabel';\r\nimport InputGroup from 'react-bootstrap/InputGroup';\r\n\r\nexport default function Afi0Item({k,fi0,handlefi0Change,publickeyIndex}){\r\n    return (\r\n        <InputGroup size=\"sm\"  className='ms-1 w-100' key={k}>\r\n            <InputGroup.Text className='w-25 text-center'>f<sub>i</sub>(0)</InputGroup.Text>\r\n            <FloatingLabel className='w-75' controlId=\"floatingSelectGrid\" label=\"fi(0)\">\r\n                <Form.Control className=\"bg-white\" disabled type=\"number\" value={fi0} onChange={handlefi0Change} />\r\n            </FloatingLabel>\r\n        </InputGroup>\r\n    );\r\n}","import Web3 from 'web3';\r\nimport BigInteger from '../linkable_ring_signature/lib/jsbn.js';\r\nimport {getSECCurveByName} from '../linkable_ring_signature/lib/sec.js';\r\nimport {getRandomIntModN,hexToPublicKey} from '../linkable_ring_signature/utils.js';\r\n\r\nconst BN = Web3.utils.BN;\r\nconst ec_params = getSECCurveByName('secp256r1');\r\nconst G = ec_params.getG();\r\nconst N = ec_params.getN();\r\n\r\n\r\nexport function ec_sign(hashed_message,privateKey){\r\n    // encode hex string hashed message to int\r\n    const h = new BigInteger(hashed_message.slice(2,),16);\r\n    // encode privateKey hashed message to int\r\n    const prkKey = new BigInteger(privateKey,16);\r\n    // random int\r\n    const k = getRandomIntModN();\r\n    // random point\r\n    const R = G.multiply(k);\r\n    // R's x coordinate\r\n    const r = R.getX().toBigInteger();\r\n    // inverse of k mod N\r\n    const k_inv = new BigInteger(new BN(k.toString(10)).invm(new BN(N.toString(10))).toString(10),10);\r\n    // signature\r\n    const s = k_inv.multiply(h.add(r.multiply(prkKey))).mod(N);\r\n\r\n    return [r.toString(10),s.toString(10)];\r\n}\r\n\r\nexport function ec_verify(r,s,hashed_message,pubKey){\r\n    r = new BigInteger(r,10);\r\n    s = new BigInteger(s,10);\r\n    // encode hex string hashed message to int\r\n    const h = new BigInteger(hashed_message.slice(2,),16);\r\n    // console.log(h.toString(16));\r\n    // encode pubkey point to EC point\r\n    const pubP = hexToPublicKey(pubKey);\r\n    // inverse of s\r\n    const s_inv = new BigInteger(new BN(s.toString(10)).invm(new BN(N.toString(10))).toString(10),10);\r\n    // R'\r\n    const RR = G.multiply(h.multiply(s_inv).mod(N)).add(pubP.multiply(r.multiply(s_inv).mod(N)));\r\n    // R''s x coordinate\r\n    const rr = RR.getX().toBigInteger();\r\n    console.log(rr.toString(16));\r\n    // console.log(r.toString(16));\r\n    // console.log(rr.compareTo(r) == 0);\r\n    return rr == r;\r\n}\r\n\r\nconst message = \"hello world\";;\r\nconst h = Web3.utils.soliditySha3(\r\n    {t: 'string',v:message}\r\n    );\r\nconsole.log(h);\r\n\r\nconst prkKey = \"a781489e7264eece8ee09efeac5cf2ebd1eaf46a0a91912998e31adad3997b3c\";\r\nconst pubKey = \"041000d31b0765a902b986b74ffdbc536ec5f431bb6e6fa3260bed795f6d16e333517cfac01c2fa32a54a940942584c236a270013ad94a74c5db497d858dddec21\";\r\n\r\n\r\nconst sig = ec_sign(h,prkKey);\r\nec_verify(sig[0],sig[1],h,pubKey);","import Web3 from 'web3';\r\nimport BigInteger from '../linkable_ring_signature/lib/jsbn.js';\r\nimport {getRandomIntModN} from '../linkable_ring_signature/utils';\r\nimport {getSECCurveByName} from '../linkable_ring_signature/lib/sec.js';\r\n\r\nconst ec_params = getSECCurveByName('secp256r1');\r\nconst N = ec_params.getN();\r\nconst G = ec_params.getG();\r\n\r\n// G1: base point 1\r\n// G2: base point 2\r\n// x: secret\r\nexport function CPprove(G1,G2,x){\r\n    // w = random integer\r\n    const w = getRandomIntModN();\r\n\r\n    const digest = Web3.utils.soliditySha3(\r\n        {t:\"uint256\", v:G1.multiply(w).getX().toBigInteger().toString(10)},\r\n        {t:\"uint256\", v:G1.multiply(w).getY().toBigInteger().toString(10)},\r\n        {t:\"uint256\", v:G2.multiply(w).getX().toBigInteger().toString(10)},\r\n        {t:\"uint256\", v:G2.multiply(w).getY().toBigInteger().toString(10)},\r\n    );\r\n    // console.log(digest);\r\n    const c = new BigInteger(digest.slice(2,),16).mod(N);\r\n\r\n    // r = w - x * s (mod N)\r\n    const r = w.subtract(c.multiply(x)).mod(N);\r\n\r\n    // return proof\r\n    console.log([c.toString(10), r.toString(10)]);\r\n    return [c.toString(10), r.toString(10)];\r\n}\r\n\r\n// G1: base point 1\r\n// h1: x * G1\r\n// G2: base point 2\r\n// h2: x * G2   \r\n// proof: [c,r]\r\nexport function CPverify(G1,h1,G2,h2,proof){\r\n    const c = new BigInteger(proof[0],10);\r\n    const r = new BigInteger(proof[1],10);\r\n\r\n    const tmp1 = G1.multiply(r).add(h1.multiply(c));\r\n    const tmp2 = G2.multiply(r).add(h2.multiply(c));\r\n\r\n    const digest = Web3.utils.soliditySha3(\r\n        {t:\"uint256\", v:tmp1.getX().toBigInteger().toString(10)},\r\n        {t:\"uint256\", v:tmp1.getY().toBigInteger().toString(10)},\r\n        {t:\"uint256\", v:tmp2.getX().toBigInteger().toString(10)},\r\n        {t:\"uint256\", v:tmp2.getY().toBigInteger().toString(10)},\r\n    );\r\n    console.log(digest);\r\n    const cc = new BigInteger(digest.slice(2,),16).mod(N);\r\n\r\n    console.log(c.toString(16));\r\n    console.log(cc.toString(16));\r\n\r\n    return cc.compareTo(c) == 0;\r\n}\r\n","import Web3 from 'web3';\r\nimport BigInteger from '../linkable_ring_signature/lib/jsbn.js';\r\nimport {getSECCurveByName} from '../linkable_ring_signature/lib/sec.js';\r\nimport {pointToXYInt,intTopoint,getRandomIntModN,\r\n    hexToPublicKey,publicKeyToHex,mapToCurve} from '../linkable_ring_signature/utils.js';\r\n\r\nimport {CPprove} from '../CPNIZKP/cpnizkp';\r\n\r\nconst BN = Web3.utils.BN;\r\nconst ec_params = getSECCurveByName('secp256r1');\r\nconst G = ec_params.getG();\r\nconst N = ec_params.getN();\r\n\r\nexport function elgamal_encrypt(message,receiver_publickeyHex){\r\n    // console.log(message);\r\n    // Hex to BigInt\r\n    const m = new BigInteger(message,10).add(new BigInteger(\"1\",10));\r\n    console.log(m.toString(10));\r\n    // Hex to EC Point, Y = receiver's publickey = x*G where x is secret\r\n    const Y = hexToPublicKey(receiver_publickeyHex);\r\n    // choose a random k\r\n    const k = getRandomIntModN();\r\n    // C = k*G\r\n    const C = G.multiply(k);\r\n    // CC = k*Y = k*x*G\r\n    const CC = Y.multiply(k);\r\n    // map m to EC Point, Pm = m*G\r\n    const Pm = mapToCurve(m);\r\n    console.log(Pm.getX().toBigInteger().toString(10));\r\n    console.log(publicKeyToHex(Pm));\r\n    // D = CC + Pm\r\n    const D = CC.add(Pm);\r\n    // ciphertext = [C,D]\r\n    // console.log(C);\r\n    return [pointToXYInt(C),pointToXYInt(D)];\r\n}\r\n\r\nexport function elgamal_decrypt(ciphertext,privateKeyHex,publicKeyHex){\r\n    const C = intTopoint(ciphertext[0][0],ciphertext[0][1]);\r\n    const D = intTopoint(ciphertext[1][0],ciphertext[1][1]);\r\n    \r\n    // Hex to BigInt, x = privateKey\r\n    const x = new BigInteger(privateKeyHex,16);\r\n    const y = hexToPublicKey(publicKeyHex);\r\n\r\n    // CC = x*C = x*k*G\r\n    const CC = C.multiply(x);\r\n    console.log(CC);\r\n    // Pm = D - CC\r\n    const Pm = D.add(CC.negate());\r\n    // console.log(publicKeyToHex(Pm));\r\n    // console.log(Pm.getX().toBigInteger().toString(10));\r\n    const m = Pm.getX().toBigInteger().subtract(new BigInteger(\"1\",10)).toString(10);\r\n    \r\n    // return m , CP proof , CC = x*k*G\r\n    return [m,\r\n        CPprove(G,C,x),\r\n        [CC.getX().toBigInteger().toString(10),CC.getY().toBigInteger().toString(10)]];\r\n}\r\n\r\nfunction test(){\r\n    const message = \"1\";\r\n    const prkKey = \"dfdf0f27d8183c495452c319f2d584061883a7397444538c6db28d6e24a02f82\";\r\n    const pubKey = \"043c91f9524d38ebcd96ce5e6038f3dc4d5bd5d0085cd0038e3ac17711a1a7c6621933488377c145a2e821d475246214dcede3d084694f1e0650b983d53f7f4f77\";\r\n    \r\n    const ciphertext = elgamal_encrypt(message,pubKey);\r\n    const m = elgamal_decrypt(ciphertext,prkKey,pubKey)[0];\r\n    console.log(m);\r\n    console.log(message);\r\n    console.log(\"recover: \",m==message);\r\n}\r\ntest()","import BigInteger from '../linkable_ring_signature/lib/jsbn.js';\r\nimport {getSECCurveByName} from '../linkable_ring_signature/lib/sec.js';\r\nimport {Fraction} from 'fractional';\r\nimport {getPublicKeyHex,pointToInt,intTopoint,hexToPublicKey,publicKeyToHex,mapToCurve} from '../linkable_ring_signature/utils.js';\r\nimport Web3 from 'web3';\r\nimport Big from 'big.js';\r\n\r\nconst ec_params = getSECCurveByName('secp256r1');\r\nconst N = ec_params.getN();\r\nconst G = ec_params.getG();\r\n\r\nexport function calcVotePublicKey(Fij_list){\r\n    let sum;\r\n    console.log(Fij_list.length);\r\n    for(let i=0;i<Fij_list.length;i++){\r\n        const x = Fij_list[i].p.x;\r\n        const y = Fij_list[i].p.y;\r\n        const p = intTopoint(x,y);\r\n        if(i==0){\r\n            sum = p;\r\n            console.log(sum);\r\n        }else{\r\n            sum = sum.add(p);\r\n            console.log(sum);\r\n        }\r\n    }\r\n    console.log(sum);\r\n    // console.log(sum.getX().toBigInteger().toString(10));\r\n    // console.log(sum.getY().toBigInteger().toString(10));\r\n    console.log(publicKeyToHex(sum));\r\n    return publicKeyToHex(sum);\r\n}\r\n\r\n\r\nexport function reconstructSecret(subSecrets,min_shares){\r\n    const n = new Big (N.toString(10));\r\n    \r\n    console.log(subSecrets);\r\n    const H = subSecrets.map(s=>parseInt(s.i)+2);\r\n    let secret = new Big (\"0\");\r\n    for(let i=0;i<min_shares;i++){\r\n        let value = new Big (subSecrets[i].subSecret.toString());\r\n        // console.log(value.toString(10));\r\n        let z = 1; \r\n        for(let h=0;h<min_shares;h++){\r\n            // console.log(\"i:\",i);\r\n            if(H[h] != H[i]){\r\n                // console.log(\"h:\",H[h]);\r\n                // console.log(\"j:\",j);\r\n                z = z * H[h] / (H[h]-H[i]);\r\n                // console.log(z);\r\n            }\r\n        }\r\n        // console.log(z);\r\n        // console.log(z.toString());\r\n        z = new Big(z);\r\n        value = value.times(z);\r\n        secret = secret.plus(value);\r\n    }     \r\n    if(secret.lt(new Big(0))){\r\n        secret = secret.mod(n).plus(n).mod(n);\r\n    }\r\n    console.log(secret.mod(n).round(0,Big.roundUp).toFixed(0).toString(10));\r\n    secret = secret.mod(n).round(0,Big.roundUp).toFixed(0).toString(10);\r\n    console.log(secret);\r\n    console.log(\"PubKey:\",getPublicKeyHex(secret));\r\n    return secret;\r\n}\r\n\r\nexport function sumOFfiOFJ(values){\r\n    console.log(\"----------------------\",values);\r\n    let sum = new BigInteger(\"0\",10);\r\n    let tmp = new BigInteger(\"0\",10);\r\n    for(let i=0;i<values.length;i++){\r\n        sum = sum.add(new BigInteger(values[i].toString(),10));\r\n        tmp = tmp.add(new BigInteger(values[i].toString(),10)).mod(N);\r\n    }\r\n    sum = sum.mod(N);\r\n    console.log(sum.toString(10));\r\n    console.log(tmp.toString(10));\r\n    return sum.toString(10);\r\n}\r\n\r\nexport function calcPolynomialOfXModP(X,polynomial,P){\r\n    let tmp = new BigInteger(\"0\");\r\n    for(let i=0;i<polynomial.length;i++){\r\n        tmp = tmp.add(new BigInteger(polynomial[i].toString(),10).multiply(new BigInteger(X.toString(),10).pow(new BigInteger(i.toString(),10))));\r\n    }\r\n    tmp = tmp.mod(new BigInteger(P,16));\r\n    console.log(tmp.toString(10));\r\n    return tmp.toString(10);\r\n}\r\n\r\nexport function verifyfi_ofJ(fi_ofJ,Fij_list,i,min_shares){\r\n    // console.log(Fij_list);\r\n    let rhs;\r\n    for(let l=0;l<min_shares;l++){\r\n        const F = intTopoint(Fij_list[l].p.x,Fij_list[l].p.y);\r\n        // console.log(Fij_list[l]);\r\n        console.log(i.toString(),Fij_list[l].j.toString());\r\n        i = new BigInteger(i.toString(),10);\r\n        const j = new BigInteger(Fij_list[l].j.toString(),10);\r\n        // console.log(i.pow(j).toString(10));\r\n        if(l==0){\r\n            rhs = F.multiply(i.pow(j));\r\n        }else{\r\n            rhs = rhs.add(F.multiply(i.pow(j)));\r\n        }\r\n    }\r\n    // console.log(fi_ofJ);\r\n    const lhs = G.multiply(new BigInteger(fi_ofJ,10));\r\n    // console.log(lhs.equals(rhs));\r\n\r\n    return lhs.equals(rhs);\r\n}\r\n\r\nfunction test(){\r\n    // const polynomial = [120,-10,3];\r\n    // calcPolynomialOfXModP(4,polynomial,\"ffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551\");\r\n    const sumOFfiOFJval = [\r\n        \"103512933505582254678488296736776303071223307690861869161636576740978413898863\", \r\n        \"100678200993634215467152872313277313886866317070620302918844083923785284681287\",\r\n        \"24929851752775209751567011669356329451354953494511897872728697417882731459116\"\r\n    ];\r\n    console.log(sumOFfiOFJval);\r\n\r\n    const subSecrets = sumOFfiOFJval.map((s,i)=>({\"subSecret\":s,\"i\":i}));\r\n    console.log(subSecrets);\r\n    \r\n    const min_shares=3;\r\n    \r\n    const prvKey = new BigInteger(reconstructSecret(subSecrets,min_shares),10);\r\n    console.log(publicKeyToHex(G.multiply(prvKey)));\r\n\r\n    const Fij_list = [\r\n        [[\"72160746512208493934834514920851081576532538861631856331497133929389127403397\",\"49340882920581439149267678419110314271673700463918205700400202949071497534230\"]],\r\n        [[\"68056754876671348598456510524653885599184089418453453177967235783565477785325\",\"17037835865098789846089351331254535183815793299666796375000879741733285549216\"]],\r\n        [[\"23092518550414119331540719784960123372273088424081587354848385707582830109884\",\"104251920855376541608725249570698584318756584159766089532642244062086574094694\"]]\r\n    ];\r\n\r\n    // const pubKey = calcVotePublicKey(Fij_list);\r\n\r\n    const xi = [\r\n        new BigInteger('14949099788353303707800889399671507645571066715461472951355284088200842960096',10),\r\n        new BigInteger('36581782869174500100563687655162286227225873325952089055983111988164041136363',10),\r\n        new BigInteger('52110549631875710053651718253462747329230546497604453224792623479074986012330',10)\r\n    ];\r\n    let tmp = new BigInteger(\"0\",10);\r\n    tmp = tmp.add(xi[0]).add(xi[1]).add(xi[2]).mod(N);\r\n    console.log(tmp.toString(10));\r\n    console.log(prvKey.toString(10));\r\n\r\n\r\n    let z = new Big(0.5).plus(new Big(-0.4)).times(new Big(-101.03));\r\n    console.log(z.toString(10));\r\n}\r\n\r\ntest();\r\n\r\nfunction testPubKey(){\r\n    let f0_1 = \"41836335270698052477718032730712665703294014957479345575038805081713310752001\";\r\n    let f0_2 = \"25518477145161304021006227418575290157620201379952442178997935612692473323773\";\r\n\r\n    f0_1 = new BigInteger(f0_1,10);\r\n    f0_2 = new BigInteger(f0_2,10);\r\n    \r\n    let F1 = G.multiply(f0_1);\r\n    let F2 = G.multiply(f0_2);\r\n    let pubKey = F1.add(F2);\r\n\r\n    pubKey = publicKeyToHex(pubKey);\r\n    console.log(pubKey);\r\n}\r\n\r\ntestPubKey();\r\n","import React, { Component, useState, useEffect, useRef}  from 'react';\r\nimport Web3 from 'web3';\r\nimport { removePadding } from '../linkable_ring_signature/utils';\r\n\r\nexport default function Candidates_table_item({candidates}){ \r\n    return candidates.map(c=>{\r\n        return <tr key={\"candidate_id\"+c.id}>\r\n                    <td><small>{c.id}</small></td>\r\n                    <td><small>{removePadding(Web3.utils.hexToAscii(c.name))}</small></td>\r\n                </tr>\r\n    });\r\n}","import React, { Component, useState, useEffect, useRef}  from 'react';\r\n\r\n\r\n\r\nexport default function Publickeys_table_item({publickeys,publickeysAfterVerified,disqualifiedVoters}){\r\n    const [tmp,SetTmp] = useState([]);\r\n    useEffect(()=>{\r\n        let t = [];\r\n        let count = 0;\r\n        for(let i=0;i<publickeys.length;i++){\r\n            if(!disqualifiedVoters.find(p=>p==i)){\r\n                t.push(count);\r\n                count++;\r\n            }else{\r\n                t.push(\"\");\r\n            }\r\n        }\r\n        SetTmp(t);\r\n    },[publickeysAfterVerified,publickeys]);\r\n\r\n    return publickeys.map((p,i)=>{\r\n        return <tr key={\"publickeys_index \" + i}>\r\n            <td ><small className={disqualifiedVoters.find(v=>v==i)!=undefined?'text-danger text-decoration-line-through':\"\"}>{i}</small></td>\r\n            <td ><small>{tmp[i]}</small></td>\r\n            <td><small className={disqualifiedVoters.find(v=>v==i)!=undefined?'text-danger text-decoration-line-through':\"\"}>{p}</small></td>\r\n        </tr>\r\n    });\r\n}","import React, { Component, useState, useEffect, useRef}  from 'react';\r\nimport FormControl from 'react-bootstrap/FormControl';\r\nimport InputGroup from 'react-bootstrap/InputGroup';\r\nimport FloatingLabel from 'react-bootstrap/FloatingLabel';\r\n\r\nexport default function SubSecretItem({k,subSecret}){\r\n    return <InputGroup  size=\"sm\" className='mt-2 w-100' key={k}>\r\n                <InputGroup.Text className='w-25'>Sub<br></br>Secret</InputGroup.Text>\r\n                <FloatingLabel className='w-75' controlId=\"\" label=\"xi\">\r\n                    <FormControl className=\"bg-white\" type=\"number\" value={subSecret} disabled></FormControl>\r\n                </FloatingLabel>\r\n            </InputGroup>      \r\n    ;\r\n};","import React, { Component, useState, useEffect, useRef}  from 'react';\r\nimport { Chart as ChartJS } from 'chart.js/auto';\r\nimport { Doughnut } from 'react-chartjs-2';\r\nimport Web3 from 'web3';\r\nimport {removePadding} from '../linkable_ring_signature/utils';\r\n\r\nexport default function BallotResult({candidates,isShowResult,voteRate}){\r\n    const options = {\r\n        indexAxis: 'y',\r\n        repsonsive: true,\r\n        elements: {\r\n            bar: {\r\n              borderWidth: 2,\r\n            },\r\n        },\r\n        plugins: {\r\n            legend:{\r\n                position: 'top',\r\n                display: true,\r\n                title:{\r\n                    display: true,\r\n                    text: \"Candidates\",\r\n                    font: {\r\n                        size:14\r\n                    }\r\n                }\r\n            },\r\n            title:{\r\n                display: true,\r\n                text: `Election Result (Vote Rate: ${voteRate})`,\r\n                font: {\r\n                    size:16\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    const labels = candidates.map(c=>removePadding(Web3.utils.hexToAscii(c.name)));\r\n\r\n    // https://www.codegrepper.com/code-examples/javascript/generate+colors+for+react-chartjs-2\r\n    const randColor = () =>{\r\n        const letters = '0123456789ABCDEF'.split('');\r\n        let color = '#';\r\n        for (let i = 0; i < 6; i++ ) {\r\n            color += letters[Math.floor(Math.random() * 16)];\r\n        }\r\n        // console.log(color);\r\n        return color;\r\n    }\r\n\r\n    const colors = candidates.map(c=>randColor()); \r\n\r\n    const data = {\r\n        labels: labels,\r\n        datasets:[\r\n            {\r\n                label: \"Candidates\",\r\n                data: candidates.map(c=>c.voteCount),\r\n                backgroundColor: colors,\r\n                borderColor: colors\r\n            }\r\n        ]\r\n    }\r\n\r\n    return  <div className={isShowResult?'col-7 position-relative':'d-none'}>\r\n                <Doughnut \r\n                    options={options} \r\n                    data={data}\r\n                />\r\n            </div>;\r\n}","import React, { Component, useState, useEffect,useLayoutEffect, useRef}  from 'react';\r\nimport { Grid , _} from 'gridjs-react';\r\nimport Spinner from 'react-bootstrap/Spinner';\r\nimport {TiTick} from 'react-icons/ti';\r\nimport Button from 'react-bootstrap/Button';\r\nimport \"gridjs/dist/theme/mermaid.css\";\r\nimport Web3 from 'web3';\r\nimport {removePadding} from '../linkable_ring_signature/utils';\r\n\r\nexport default function Ballots({isShowBallots,ballots,candidates,eInstance}){\r\n    const [isValidLRSLoading,setIsValidLRSLoading] = useState({});\r\n    const [isValidLRS,setIsValidLRS] = useState({});\r\n    const [isVoteOnceOnlyLoading,setIsVoteOnceOnlyLoading] = useState({});\r\n    const [isVoteOnceOnly,setIsVoteOnceOnly] = useState({});\r\n\r\n    const handleVerfiyLRS = async (ballot,id) =>{\r\n        setIsValidLRS((prev)=>({\r\n            ...prev,\r\n            [id]:false\r\n        }));\r\n\r\n        setIsValidLRSLoading((prev)=>({\r\n            ...prev,\r\n            [id]:true\r\n        }));\r\n\r\n        const isValidSig = await eInstance.methods.verifyLRS(\r\n            ballot.encVoteHash,ballot.U0,ballot.V,ballot.K\r\n            ).call();\r\n        \r\n        setIsValidLRS((prev)=>({\r\n            ...prev,\r\n            [id]:isValidSig\r\n        }));\r\n\r\n        setIsValidLRSLoading((prev)=>({\r\n            ...prev,\r\n            [id]:false\r\n        }));\r\n\r\n        console.log(isValidSig);\r\n    } \r\n\r\n    const handleVerifyVoteOnlyOnce = async (K,id) =>{\r\n        setIsVoteOnceOnly((prev)=>({\r\n            ...prev,\r\n            [id]:false\r\n        }));\r\n        \r\n        setIsVoteOnceOnlyLoading((prev)=>({\r\n            ...prev,\r\n            [id]:true\r\n        }));\r\n\r\n        let count = 0;\r\n        // const ballots = await eInstance.methods.getBallot().call();\r\n        const Ks = ballots.map(b=>b.K);\r\n        // console.log(Ks);\r\n        for(let i=0;i<Ks.length;i++){\r\n            if(Ks[i].x == K.x && Ks[i].y == K.y){count++;}\r\n        }\r\n        console.log(count);\r\n        if(count == 1){\r\n            setIsVoteOnceOnly((prev)=>({\r\n                ...prev,\r\n                [id]:true\r\n            }));\r\n            setIsVoteOnceOnlyLoading((prev)=>({\r\n                ...prev,\r\n                [id]:false\r\n            }));\r\n        }   \r\n    }\r\n\r\n    const timestampToDate = (timestamp) => {\r\n        // console.log(timestamp);\r\n        const date = new Date(timestamp * 1000);\r\n        // console.log(date);\r\n        return date.toString().slice(0,21);\r\n    }\r\n\r\n    return <div className={isShowBallots?'mt-2':'d-none'} >\r\n        <Grid \r\n            columns={[\r\n                {name:'ID'}, \r\n                {name:'Vote Time'},\r\n                {name:'Vote For'},\r\n                {name:'Verify'}\r\n            ]}\r\n            sort={true}\r\n            pagination={{\r\n                enabled: true,\r\n                limit: 3,\r\n            }}\r\n            fixedHeader={true}\r\n            data={ballots.map(b=>[\r\n                b.id,\r\n                timestampToDate(b.voteTime),\r\n                `${(b.candidate_id.toString()!='-1')?removePadding(Web3.utils.hexToAscii(candidates[b.candidate_id].name)):\"NaN\"} ( id: ${b.candidate_id} )`,\r\n                _(\r\n                    <span className='w-100'>\r\n                        <Button size=\"sm\" variant={isValidLRS[b.id]?\"success\":\"outline-secondary\"} className='me-1' onClick={()=>{handleVerfiyLRS(b,b.id)}}>\r\n                            {isValidLRSLoading[b.id]?<Spinner animation=\"border\" size=\"sm\" />:\"\"}\r\n                            {isValidLRS[b.id]&&isValidLRSLoading[b.id]==false?<TiTick fontSize={\"1.1rem\"} />:\"\"}\r\n                            Signature\r\n                        </Button>\r\n                        <Button size=\"sm\" variant={isVoteOnceOnly[b.id]?\"success\":\"outline-secondary\"} className='me' onClick={()=>{handleVerifyVoteOnlyOnce(b.K,b.id)}}>\r\n                            {isVoteOnceOnlyLoading[b.id]?<Spinner animation=\"border\" size=\"sm\" />:\"\"}\r\n                            {isVoteOnceOnly[b.id]&&isVoteOnceOnlyLoading[b.id]==false?<TiTick fontSize={\"1.1rem\"} />:\"\"}\r\n                            Uniqueness\r\n                        </Button>\r\n                    </span>\r\n                )\r\n            ])}\r\n        />\r\n    </div>;\r\n}","import React, { Component, useState, useEffect, useRef}  from 'react';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\nimport BallotResult from './BallotResult';\r\nimport Ballots from './Ballots';\r\n\r\n\r\nexport default function CloseState({ballots,isTallied,candidates,eInstance,publickeys}){\r\n    const [isShowResult,setIsShowResult] = useState(false);\r\n    const [isShowBallots,setIsShowBallots] = useState(true);\r\n\r\n        \r\n\r\n    const handleShowResult = () => {\r\n        setIsShowResult(true);\r\n        setIsShowBallots(false);\r\n    }\r\n\r\n    const handleShowBallots = () => {\r\n        setIsShowResult(false);\r\n        setIsShowBallots(true);\r\n    }\r\n\r\n\r\n\r\n    return  <Container className={(isTallied)?\"mt-2\":\"d-none\"}>\r\n        <Row>\r\n            <div>\r\n                <Button className=\"float-end\" variant={isShowBallots?\"dark\":\"outline-dark\"} onClick={handleShowBallots}>\r\n                    Ballots\r\n                </Button>\r\n                <Button className=\"me-2 float-end\" variant={isShowResult?\"dark\":\"outline-dark\"} onClick={handleShowResult}>\r\n                    Result\r\n                </Button>\r\n            </div>\r\n        </Row>\r\n        <Row>\r\n            <Col className=\"d-flex justify-content-center\">\r\n                <BallotResult voteRate={ballots.length + \"/\" + publickeys.length} candidates={candidates} isShowResult={isShowResult} />\r\n                <Ballots eInstance={eInstance} candidates={candidates} ballots={ballots} isShowBallots={isShowBallots}  />\r\n            </Col>\r\n        </Row>\r\n    </Container>\r\n}","import React, { Component, useState, useEffect, useRef}  from 'react';\r\nimport Alert from 'react-bootstrap/Alert';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Spinner from 'react-bootstrap/Spinner';\r\n\r\nexport default function Alert_item({isDone, handleDone, isDoing, alertMsg, doName, doingName}){\r\n    return <Alert variant=\"secondary\" className={isDone?\"d-none\":\"p-2 mt-2\"}>\r\n        {alertMsg}\r\n        <Button variant=\"outline-dark\" className='ms-2' size=\"sm\" onClick={handleDone}>\r\n            {(isDoing)? <span><Spinner animation=\"border\" size=\"sm\" /> {doingName}</span>\r\n            : <span>{doName}</span>}\r\n        </Button>\r\n    </Alert>;\r\n}","import React, { Component, useState, useEffect, useRef}  from 'react';\r\nimport './elections.css';\r\nimport { GrUserManager } from 'react-icons/gr';\r\nimport {MdDateRange} from 'react-icons/md';\r\n\r\nimport {GiVote} from 'react-icons/gi';\r\nimport Card from 'react-bootstrap/Card';\r\nimport Badge from 'react-bootstrap/Badge';\r\nimport { Scrollbars } from 'react-custom-scrollbars-2';\r\nimport Election from './election';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Table from 'react-bootstrap/Table';\r\nimport Nav from 'react-bootstrap/Nav';\r\nimport Tab from 'react-bootstrap/Tab';\r\nimport TabContainer from 'react-bootstrap/TabContainer';\r\nimport InputGroup from 'react-bootstrap/InputGroup';\r\nimport Web3 from 'web3';\r\nimport {ImCross} from 'react-icons/im';\r\nimport Form from 'react-bootstrap/Form';\r\nimport FloatingLabel from 'react-bootstrap/FloatingLabel';\r\nimport Button from 'react-bootstrap/Button';\r\nimport { genSig,verifySig } from './linkable_ring_signature/lrs';\r\nimport PrivateKey_item from './elections_components/privateKey_item';\r\nimport SelectCandidate_item from './elections_components/selectCandidate_item';\r\nimport Publickey_index_item from './elections_components/publickey_index_item';\r\nimport Badge_item from './elections_components/Badge_item';\r\nimport Spinner from 'react-bootstrap/Spinner';\r\nimport Afi0Item from './elections_components/Afi0Item';\r\nimport {removePadding,hexToPublicKey,pointToXYInt,genKeyPair,publicKeyToHex,intTopoint,getRandomInt,getPublicKeyXY} from './linkable_ring_signature/utils';\r\nimport ElectionABI from '../abis/Election.json';\r\nimport { saveAs } from 'file-saver';\r\nimport {ec_sign} from './ecdsa/ecdsa';\r\nimport {elgamal_encrypt,elgamal_decrypt} from './elgamal/elgamal';\r\nimport {calcVotePublicKey,calcPolynomialOfXModP,sumOFfiOFJ,reconstructSecret,verifyfi_ofJ} from './secret_sharing/secret_sharing';\r\nimport Candidates_table_item from './elections_components/Candidates_table_item';\r\nimport Publickeys_table_item from './elections_components/Publickeys_table_item';\r\nimport SubSecretItem from './elections_components/SubSecret';\r\nimport CloseState from './elections_components/CloseState';\r\nimport Alert_item from './elections_components/Alert_item';\r\nimport {BiKey} from 'react-icons/bi';\r\nimport FormControl from 'react-bootstrap/FormControl';\r\nimport {hashSecret,decryptR,verifyCommitment} from './pedersen_commitment/pedersen_commitment';\r\nimport {getSECCurveByName} from './linkable_ring_signature/lib/sec.js';\r\n\r\nexport default function Elections({searchName,electionInstances,web3,account,electionAddresses}){\r\n\r\n    const msg_scrollbar = useRef(null);\r\n\r\n    const [title,setTitle] = useState(\"\");\r\n    const [description,setDescription] = useState(\"\");\r\n    const [owner,setOwner] = useState(\"\");\r\n    const [state,setState] = useState(\"\");\r\n    const [post_date,setPostdate] = useState(\"\");\r\n    const [reg_end_date,setRegEnddate] = useState(\"\");\r\n    const [vote_end_date,setVoteenddate] = useState(\"\");\r\n    const [key_gen_end_date,setKeygenenddate] = useState(\"\");\r\n    const [key_ver_end_date,setKeygenverdate] = useState(\"\");\r\n    const [secret_upload_end_date,setSecretuploadenddate] = useState(\"\");\r\n    const [privateKey,setPrivateKey] = useState(\"\");\r\n    const [selectedState,setSelectedState] = useState(\"\");\r\n    const [electionAddress,setElectionAddress] = useState(\"\");\r\n    const [polynomialText, setPolynomialText] = useState(\"\");\r\n    const [votePubKey,setVotePubKey] = useState(\"\");\r\n    const [encyptedVote,setEncyptedVote] = useState(\"\");\r\n    const [encVoteHash,setEncVoteHash] = useState(\"\");\r\n    const [regPrvKey,setRegPrvKey] = useState(\"\");\r\n    const [regPubKey,setRegPubKey] = useState(\"\");\r\n    const [regName,setRegName] = useState(\"\");\r\n    const [regBirthDate,setRegBirthDate] = useState(\"\");\r\n    const [regID,setRegID] = useState(\"\");\r\n    const [regR,setRegR] = useState(\"\");\r\n    const [regX,setRegX] = useState(\"\");\r\n\r\n    const [elections,setElections] = useState([]);\r\n    const [publickeys,setPublickeys] = useState([]);\r\n    const [candidates,setCandidates] = useState([]);\r\n    const [polynomial,setPolynomial] = useState([]);\r\n    const [polynomialMulG,setPolynomialMulG] = useState([]);\r\n    const [polynomialOfXModP,setPolynomialOfXModP] = useState([]);\r\n    const [Fij_list,setFij_list] = useState([]);\r\n    const [fi_ofJ_list,setfi_ofJ_list] = useState([]);\r\n    const [fi_ofJ_list_encrypted,setfi_ofJ_list_encrypted] = useState([]);\r\n    const [fi_ofJ_list_signed,setfi_ofJ_list_signed] = useState([]);\r\n    const [subSecretwithSig,setSubSecretWithSig] = useState([]);\r\n    const [ballots,setBallots] = useState([]);\r\n    const [disqualifiedVoters,setDisqualifiedVoters] = useState([]);\r\n    const [disqualifiedVotersReportPar,setDisqualifiedVotersReportPar] = useState([]);\r\n    const [publickeysAfterVerified,setPublickeysAfterVerified] = useState([]);\r\n    const [subSecretProof,setSubSecretProof] = useState([]);\r\n    const [regInfo,setRegInfo] = useState([]);\r\n\r\n    const [elecitonID,setElecitonID] = useState(-1);\r\n    const [publickeyIndex,setPublickeyIndex] = useState(0);\r\n    const [selectedCandidateID,setSelectedCandidateID] = useState(0);\r\n    const [totalVoteCount,setTotalVoteCount] = useState(0);\r\n    const [keyGenValueSentVoterCount,setkeyGenValueSentVoterCount] = useState(0);\r\n    const [min_shares,setMinShares] = useState(0);\r\n    const [totalSubSecretSentCount,setTotalSubSecretSentCount] = useState(0);\r\n    const [fi0,setfi0Change] = useState(-1);\r\n    const [subSecret,setSubSecret] = useState(-1);\r\n    const [regInfoIndex,setRegInfoIndex] = useState(-1);\r\n\r\n\r\n    const [isEncrypted,setIsEncrypted] = useState(false);\r\n    const [isLRS,setIsLRS] = useState(false);\r\n    const [isKeyGenSignature,setIsKeyGenSignature] = useState(false);\r\n    const [isSelectedElection,setIsselectedelection] = useState(false);\r\n    const [isEncryptLoading,setIsEncryptLoading] = useState(false);\r\n    const [isLRSLoading,setLRSLoading] = useState(false);\r\n    const [isKeyGenSignatureLoading,setIsKeyGenSignatureLoading] = useState(false);\r\n    const [isSecretUploadSignature,setIsSecretUploadSignature] = useState(false);\r\n    const [isSecretUploadSignatureLoading,setIsSecretUploadSignatureLoading] = useState(false);\r\n    const [isSendVoteLoading,setIsSendVoteLoading] = useState(false);\r\n    const [isSendValueLoading,setIsSendValueLoading] = useState(false);\r\n    const [isEncryptedValues,setIsEncryptedValues] = useState(false);\r\n    const [isEncryptedValuesLoading,setIsEncryptedValuesLoading] = useState(false);\r\n    const [isSendSubSecretLoading,setIsSendSubSecretLoading] = useState(false);\r\n    const [isTallied,setIsTallied] = useState(false);\r\n    const [isTallying,setIsTallying] = useState(false);\r\n    const [isKeyValValid,setIsKeyValValid] = useState(false);\r\n    const [isKeyValVerifying,setIsKeyValVerifying] = useState(false);\r\n    const [isReportingVoters,setIsReportingVoters] = useState(false);\r\n    const [isVotePubKeySet,setIsVotePubKeySet] = useState(false);\r\n    const [isVotePubKeySeting,setIsVotePubKeySeting] = useState(false);\r\n    const [isSetUp,seIsSetUp] = useState(false);\r\n    const [isNoSendSharesCheck,setIsNoSendSharesCheck] = useState(false);\r\n    const [isRegOn,setIsRegOn] = useState(false);\r\n    const [isRegistering,setIsRegistering] = useState(false);\r\n    const [isEligibleParticipant,setIsElligibleParticipant] = useState(false);\r\n    const [isEligibleParticipanting,setIsElligibleParticipanting] = useState(false);\r\n\r\n    const [electionInstance,setelectionInstace] = useState(null);\r\n    const [LRSignature,setLRSignature] = useState(null);\r\n\r\n    const handleSelectedElectionDataChange = (e,index) => {\r\n        setTitle(removePadding(Web3.utils.hexToAscii(e.title)));\r\n        setDescription(removePadding(Web3.utils.hexToAscii(e.description)));\r\n        setOwner(e.owner);\r\n        setState(determineState(e.isSetUp,e.reg_end_time,e.share_end_time,e.ver_end_time,e.vote_end_time,e.secret_upload_end_time));\r\n        setPostdate(timestampToDate(e.post_time));\r\n        setRegEnddate(timestampToDate(e.reg_end_time));\r\n        setVoteenddate(timestampToDate(e.vote_end_time));\r\n        setKeygenenddate(timestampToDate(e.share_end_time));\r\n        setKeygenverdate(timestampToDate(e.ver_end_time));\r\n        setSecretuploadenddate(timestampToDate(e.secret_upload_end_time));\r\n        const pubKeys = e.EC_public_keys.map((p)=>publicKeyToHex(intTopoint(p.x,p.y)));\r\n        setPublickeys(pubKeys);\r\n        setPublickeysAfterVerified(pubKeys);\r\n        setCandidates(e.candidates);\r\n        setIsselectedelection(true);\r\n        setSelectedState(determineState(e.isSetUp,e.reg_end_time,e.share_end_time,e.ver_end_time,e.vote_end_time,e.secret_upload_end_time));\r\n        setElecitonID(e.id);\r\n        setElectionAddress(electionAddresses[index]);\r\n        setMinShares(e.min_shares);\r\n        setkeyGenValueSentVoterCount(e.totatSharesSentCount);\r\n        setTotalSubSecretSentCount(e.totalSubSecretSentCount);\r\n        setIsTallied(e.isVoteTallied);\r\n        setTotalVoteCount(e.ballots.length);\r\n        setIsVotePubKeySet(e.isVotePubKeySet);\r\n        seIsSetUp(e.isSetUp);\r\n        setIsRegOn(e.isRegOn);\r\n        if(e.isRegOn){\r\n            setRegInfo(e.regInfo);\r\n        }\r\n\r\n        setIsNoSendSharesCheck(e.isNoSendSharesCheck);\r\n        if(e.isVoteTallied){\r\n            setBallots(e.ballots);\r\n        }\r\n        \r\n        setDisqualifiedVoters(e.illegitimate_voter_indeces);\r\n\r\n        setelectionInstace(electionInstances[index]);\r\n    }\r\n\r\n    useEffect(()=>{\r\n        if(searchName!=\"\"){\r\n            \r\n        }\r\n    },[searchName]);\r\n\r\n    useEffect(async ()=>{\r\n        let tmp = [];\r\n        for(let i=0;i<electionInstances.length;i++){\r\n            const e = await electionInstances[i].methods.getElectionData().call();\r\n            tmp.push(e);\r\n        }\r\n        setElections(tmp);\r\n    },[electionInstances]);\r\n\r\n    useEffect(()=>{\r\n        console.log(disqualifiedVoters);\r\n        if(disqualifiedVoters.length>0){\r\n            let tmp = [];\r\n            for(let i=0;i<publickeys.length;i++){\r\n                if(!disqualifiedVoters.find(v=> parseInt(v) == i)){\r\n                    tmp.push(publickeys[i]);\r\n                }\r\n            }\r\n            console.log(tmp);\r\n            setPublickeysAfterVerified((prev)=>tmp);\r\n        }\r\n    },[disqualifiedVoters]);\r\n\r\n    useEffect(()=>{\r\n        if(electionInstance == null){\r\n            return;\r\n        }\r\n        // new Vote event \r\n        electionInstance.events.newVoteEvent({},async (error, receipt)=>{\r\n            if(error){\r\n                console.error(error);\r\n                setIsSendVoteLoading(false);\r\n                alert(\"Vote Failed\");\r\n            }else{\r\n                // console.log(receipt);\r\n                setTotalVoteCount(receipt.returnValues.totalVoteCount);\r\n                setIsSendVoteLoading(false);\r\n                alert(\"Vote Success!\");\r\n            }\r\n        });\r\n        // new add KeygenValue event \r\n        electionInstance.events.addKeygenValueEvent({},async (error, receipt)=>{\r\n            if(error){\r\n                console.error(error);\r\n                setIsSendValueLoading(false);\r\n                alert(\"Add Shares Failed\");\r\n            }else{\r\n                // console.log(receipt);\r\n                setkeyGenValueSentVoterCount(receipt.returnValues.totatSharesSentCount);\r\n                setIsSendValueLoading(false);\r\n                alert(\"Add Shares Success!\");\r\n            }\r\n        });\r\n        // new add SubSecret event \r\n        electionInstance.events.addSubSecretEvent({},async (error, receipt)=>{\r\n            if(error){\r\n                console.error(error);\r\n                setIsSendSubSecretLoading(false);\r\n                alert(\"Add SubSecret Failed\");\r\n            }else{\r\n                // console.log(receipt);\r\n                setTotalSubSecretSentCount(receipt.returnValues.totalSubSecretSentCount);\r\n                setIsSendSubSecretLoading(false);\r\n                alert(\"Add SubSecret Success!\");\r\n            }\r\n        });\r\n        // new tally election result event \r\n        electionInstance.events.tallyVoteEvent({},async (error, receipt)=>{\r\n            if(error){\r\n                console.error(error);\r\n                alert(\"Tally Result Failed\");\r\n            }else{\r\n                console.log(receipt);\r\n                setIsTallied(true);\r\n                setIsTallying(false);\r\n                setBallots(receipt.returnValues.ballots);\r\n                setCandidates(receipt.returnValues.candidates);\r\n                alert(\"Tally Result Success!\");\r\n            }\r\n        });\r\n        // report voters event \r\n        electionInstance.events.verifySharesEvent({},async (error, receipt)=>{\r\n            if(error){\r\n                console.error(error);\r\n                alert(\"Report Voter Failed\");\r\n            }else{\r\n                console.log(receipt);\r\n                setIsReportingVoters(false);\r\n                setDisqualifiedVoters(receipt.returnValues.illegitimate_voter_indeces);\r\n                setIsNoSendSharesCheck(receipt.returnValues.isNoSendShares);\r\n                alert(\"Disqualified Voters Indece Updated\");\r\n            }\r\n        });\r\n        // set vote pubKey event  \r\n        electionInstance.events.setVotePubKeyEvent({},async (error, receipt)=>{\r\n            if(error){\r\n                console.error(error);\r\n                alert(\"Set vote pubKey failed\");\r\n            }else{\r\n                console.log(receipt);\r\n                setIsVotePubKeySeting(false);\r\n                setIsVotePubKeySet(receipt.returnValues.isVotePubKeySet);\r\n                setDisqualifiedVoters(receipt.returnValues.illegitimate_voter_indeces);\r\n                alert(\"Set vote pubKey success\");\r\n            }\r\n        });\r\n        // add voter event\r\n        electionInstance.events.addVoterEvent({},async (error, receipt)=>{\r\n            if(error){\r\n                console.error(error);\r\n                alert(\"register failed\");\r\n            }else{\r\n                console.log(receipt);\r\n                setIsRegistering(false);\r\n                setPublickeys((prev)=>[...prev,publicKeyToHex(intTopoint(receipt.returnValues.newECPubKey.x,receipt.returnValues.newECPubKey.y))]);           \r\n                alert(\"register success\");\r\n            }\r\n        });\r\n    },[electionInstance,elections,electionAddresses]);\r\n\r\n    const state_color_mapping = {\r\n        'Set Up': \"secondary\",\r\n        'Registration': \"dark\",\r\n        'Shares Distribution': 'primary',\r\n        'Shares Verification': 'warning',\r\n        'Vote': 'success',\r\n        'Secret Upload': 'danger',\r\n        'Close': 'info'\r\n    }\r\n\r\n    const determineState = (isSetUp,reg_end_time,shares_end_time,ver_end_time,vote_end_time,secret_upload_end_time) =>{\r\n        if(!isSetUp) return 'Set Up';\r\n        const now = Date.now();\r\n        // console.log(now);\r\n        if(now < reg_end_time*1000) return 'Registration';\r\n        if(now < shares_end_time*1000) return 'Shares Distribution';\r\n        if(now < ver_end_time*1000) return 'Shares Verification';\r\n        if(now < vote_end_time*1000) return 'Vote';\r\n        if(now < secret_upload_end_time*1000) return 'Secret Upload';\r\n        return 'Close';\r\n    }\r\n\r\n    const handleRegPubKeyChange = (e) =>{\r\n        setRegPubKey(e.target.value);\r\n        // console.log(e.target.value);\r\n    }\r\n    const handleRegNameChange = (e) =>{\r\n        setRegName(e.target.value);\r\n        // console.log(e.target.value);\r\n    }\r\n    const handleRegBirthDateChange = (e) =>{\r\n        setRegBirthDate(e.target.value);\r\n        console.log(e.target.value);\r\n    }\r\n    const handleRegIDChange = (e) =>{\r\n        setRegID(e.target.value);\r\n        // console.log(e.target.value);\r\n    }\r\n\r\n    const handleGenPubKey = () =>{\r\n        while(true){\r\n            const keyPair = genKeyPair();\r\n            // console.log(keyPair);\r\n            setRegPubKey((prev)=>keyPair.publicKey);\r\n            setRegPrvKey((prev)=>keyPair.privateKey);\r\n            if(!publickeys.find((p)=> p === keyPair.publicKey)){\r\n                return;\r\n            }\r\n        }\r\n    }\r\n\r\n    const handleCheckIdentity = () =>{\r\n        console.log(regInfo);\r\n        setIsElligibleParticipant(false);\r\n        setIsElligibleParticipanting(true);\r\n        setRegInfoIndex(-1);\r\n        const ec_params = getSECCurveByName('secp256r1');\r\n        const N = ec_params.getN();\r\n        let hashID = hashSecret(regID);\r\n        let hashBirthDate = hashSecret(regBirthDate);\r\n        let hashName = hashSecret(regName);\r\n        let ID;\r\n        let birthDate;\r\n        let name;\r\n        let id_R;\r\n        let birthDate_R;\r\n        let name_R;\r\n        let commitments;\r\n        let R;\r\n        let X;\r\n        // ith person\r\n        for(let i=0;i<regInfo.length;i++){\r\n            ID = regInfo[i].ID;\r\n            birthDate = regInfo[i].birthDate;\r\n            name = regInfo[i].name;\r\n            \r\n            commitments = [ID.val,birthDate.val,name.val];\r\n            \r\n            id_R = decryptR(hashID,ID.salt,ID.encR);\r\n            birthDate_R = decryptR(hashBirthDate,birthDate.salt,birthDate.encR);\r\n            name_R = decryptR(hashName,name.salt,name.encR);\r\n\r\n            X = hashID.add(hashBirthDate).add(hashName).mod(N);\r\n            R = id_R.add(birthDate_R).add(name_R).mod(N);\r\n\r\n            if(verifyCommitment(R,X,commitments)==true){\r\n                setIsElligibleParticipant(true);\r\n                setRegInfoIndex(i);\r\n                setIsElligibleParticipanting(false);\r\n                setRegR(R.toString(10));\r\n                setRegX(X.toString(10));\r\n                alert(`You are elgible participant.\\n Your info index is ${i}.`);\r\n                return;\r\n            }\r\n        }\r\n\r\n        setIsElligibleParticipanting(false);\r\n        alert(\"You are not elgible participant.\");\r\n    }\r\n\r\n    const handleRegister = async () => {\r\n        if(regInfoIndex == -1){\r\n            alert(\"Please verify your identity first.\");\r\n            return;\r\n        };\r\n        let regPubKeyEC = pointToXYInt(hexToPublicKey(regPubKey));\r\n        // console.log(regPubKeyEC);\r\n        setIsRegistering(true);\r\n        saveKeyPair(regPubKey,regPrvKey); \r\n        await electionInstance.methods.addVoter(\r\n            regPubKeyEC,regR,regX,regInfoIndex\r\n        ).send({from:account,gas:30000000})\r\n        .on('error', function(error, receipt){\r\n            setIsRegistering(false);\r\n            alert(error.message);\r\n            // console.error(\"error:\",error);\r\n        });\r\n        \r\n    }\r\n\r\n    const handleEncVote = async () =>{\r\n        setIsEncryptLoading(true);\r\n        setIsEncrypted(false);\r\n\r\n\r\n        let VotePubKey = await electionInstance.methods.votePubKey().call();\r\n        VotePubKey = intTopoint(VotePubKey.x,VotePubKey.y);\r\n        VotePubKey = publicKeyToHex(VotePubKey);\r\n        console.log(VotePubKey);\r\n        \r\n        const encVote = elgamal_encrypt(selectedCandidateID.toString(),VotePubKey);\r\n        \r\n        setEncyptedVote(encVote);\r\n        setVotePubKey(VotePubKey);\r\n\r\n        setIsEncryptLoading(false);\r\n        setIsEncrypted(true);\r\n    }\r\n\r\n    const handleGenSig = (stage) => {\r\n        // alert(stage);\r\n        if(privateKey == \"\") {\r\n            alert(\"Please input your private key.\");\r\n            return;\r\n        }\r\n        if(stage == 'keygen'){\r\n            if(isKeyGenSignature == true){\r\n                return;\r\n            }\r\n            if(isEncryptedValues == false){\r\n                alert(\"Please encrypt your values.\");\r\n                return;\r\n            }\r\n            setIsKeyGenSignatureLoading(true);\r\n            setIsKeyGenSignature(false);\r\n            if(Fij_list.length == 0 || fi_ofJ_list_encrypted.length == 0){\r\n                alert(\"Please Generate Values First\");\r\n            }\r\n            const tmp1 = Fij_list.map((Fij)=>[\r\n                Fij[0],\r\n                Fij[1],\r\n                Fij[2],\r\n                Fij[3],\r\n                ec_sign(Fij[3],privateKey)\r\n            ]);\r\n            const tmp2 = fi_ofJ_list_encrypted.map((fi_ofJ)=>[\r\n                fi_ofJ[0],  // encrypted value\r\n                fi_ofJ[1],  // i\r\n                fi_ofJ[2],  // j\r\n                fi_ofJ[3],  // h\r\n                ec_sign(fi_ofJ[3],privateKey)   // sig\r\n            ]);\r\n            // console.log(tmp1);\r\n            // console.log(tmp2);\r\n            setFij_list(tmp1);\r\n            setfi_ofJ_list_signed(tmp2);\r\n            setIsKeyGenSignatureLoading(false);\r\n            setIsKeyGenSignature(true);\r\n        }\r\n\r\n        if(stage == 'secret_upload'){\r\n            if(isSecretUploadSignature == true){\r\n                return;\r\n            }\r\n            if(subSecret == -1){\r\n                alert(\"Please generate your sub secret first.\");\r\n                return;\r\n            }\r\n            \r\n            setIsSecretUploadSignature(false);\r\n            setIsSecretUploadSignatureLoading(true);\r\n\r\n            const hash = web3.utils.soliditySha3(\r\n                {t:\"uint256\",v:subSecret},\r\n                {t:\"uint256\",v:publickeyIndex}\r\n            );\r\n            console.log(hash);\r\n            const sig = ec_sign(hash,privateKey);\r\n            console.log(sig);\r\n            setSubSecretWithSig([\r\n                hash,subSecret,publickeyIndex,sig\r\n            ]);\r\n\r\n            setIsSecretUploadSignature(true);\r\n            setIsSecretUploadSignatureLoading(false);\r\n        }\r\n    }\r\n\r\n    const handleEncryptKeyGenVal = () => {\r\n        if(isEncryptedValues == true){\r\n            return;\r\n        }\r\n        if(Fij_list.length == 0 || fi_ofJ_list.length == 0){\r\n            alert(\"Please Generate Values First\");\r\n            return;\r\n        }\r\n        setIsEncryptedValues(false);\r\n        setIsEncryptedValuesLoading(true);\r\n        let tmp = [];\r\n        console.log(fi_ofJ_list);\r\n        \r\n        for(let z=0;z<fi_ofJ_list.length;z++){\r\n            try{\r\n                const ciphertext =  elgamal_encrypt(fi_ofJ_list[z][0]\r\n                    ,publickeys[fi_ofJ_list[z][2]-2]);\r\n                console.log(publickeys[fi_ofJ_list[z][2]-2]);\r\n                const h = web3.utils.soliditySha3(\r\n                    {t:'uint256',v:ciphertext[0][0]},\r\n                    {t:'uint256',v:ciphertext[0][1]},\r\n                    {t:'uint256',v:ciphertext[1][0]},\r\n                    {t:'uint256',v:ciphertext[1][1]},\r\n                    {t:'uint256',v:fi_ofJ_list[z][1]},\r\n                    {t:'uint256',v:fi_ofJ_list[z][2]}\r\n                    );\r\n                tmp.push([\r\n                    ciphertext,\r\n                    fi_ofJ_list[z][1],  // i\r\n                    fi_ofJ_list[z][2],  // j\r\n                    h   // hash of (ciphertext + i + j)\r\n                ]); \r\n            }catch{\r\n                setIsEncryptedValuesLoading(false);\r\n                return;\r\n            }\r\n        }\r\n        setfi_ofJ_list_encrypted(tmp);\r\n        setIsEncryptedValues(true);\r\n        setIsEncryptedValuesLoading(false);\r\n    }\r\n\r\n    const handleSendSubSecret = async () => {\r\n        setIsSendSubSecretLoading(true);\r\n        console.log(subSecretProof);\r\n        console.log(subSecretwithSig);\r\n        electionInstance.methods.addSubSecret(subSecretProof,subSecretwithSig)\r\n        .send({from: account,gas:30000000})\r\n        .on('error', function(error, receipt){\r\n            setIsSendSubSecretLoading(false);\r\n            alert(error.message);\r\n            // console.error(\"error:\",error);\r\n        });\r\n    }\r\n\r\n    const getfi_OFJ = async () => {\r\n        const j = publickeyIndex;\r\n        const f = await electionInstance.methods.getf(j).call();\r\n        console.log(f);\r\n        return f;\r\n    }\r\n\r\n    const saveKeyPair = (regPubKey,regPrvKey) => {\r\n        let blob = new Blob([\r\n            \"----------Public Key----------\\n\",\r\n            regPubKey,\r\n            \"\\n----------Private Key----------\\n\",\r\n            regPrvKey\r\n        ],\r\n            { type: \"text/plain;charset=utf-8\" });\r\n        saveAs(blob,\"KeyPair.txt\");\r\n    }\r\n\r\n    const decrypt_fiOFJValues = async () =>{\r\n        let subSecretProof = [];\r\n        let shares = [];\r\n        const tmp = await getfi_OFJ();\r\n        console.log(tmp.length);\r\n        for(let i=0;i<tmp.length;i++){\r\n            const tmp2 = elgamal_decrypt(tmp[i].ciphertext,privateKey,publickeys[publickeyIndex]);\r\n            shares.push(tmp2[0]);\r\n            subSecretProof.push([tmp2[2],tmp[i].i,parseInt(publickeyIndex)+2,tmp2[1]]);\r\n        }\r\n        // console.log(values);\r\n        return [shares,subSecretProof];\r\n    }\r\n\r\n    const handleSendKeyGenValues = async () => {\r\n        \r\n        if(isKeyGenSignature == false){\r\n            alert(\"Please generate your signature first\"); return;\r\n        }\r\n        if(isEncryptedValues == false){\r\n            alert(\"Please encrypted your valuses first\"); return;\r\n        }\r\n\r\n        // console.log(Fij_list);\r\n        // console.log(fi_ofJ_list_signed);\r\n        // saveKeyGenValues();\r\n        setIsSendValueLoading(true);\r\n        \r\n        electionInstance.methods.addShares(Fij_list,fi_ofJ_list_signed).send({from: account,gas:30000000})\r\n        .on('error', function(error, receipt){\r\n            setIsSendValueLoading(false);\r\n            alert(error.message);\r\n            // console.error(\"error:\",error);\r\n        });\r\n    }\r\n\r\n    const handleGenKeyGenValues = () => {\r\n        let rands = [];\r\n        \r\n        setIsEncryptedValues(false);\r\n        setIsKeyGenSignature(false);\r\n\r\n        setPolynomial([]);\r\n        setPolynomialMulG([]);\r\n        setFij_list([]);\r\n        setPolynomialOfXModP([]);\r\n        setfi_ofJ_list([]);\r\n        for(let i=0;i<min_shares;i++){\r\n            const rand = getRandomInt().toString(10);\r\n            console.log(rand);\r\n            setPolynomial((polynomial)=>[...polynomial,rand]);\r\n            const randMulG = getPublicKeyXY(rand);\r\n            const hash_message = web3.utils.soliditySha3(\r\n                {t:'uint256',v:randMulG[0]},\r\n                {t:'uint256',v:randMulG[1]},\r\n                {t:'uint256',v:publickeyIndex},\r\n                {t:'uint256',v:i}\r\n                );\r\n            setPolynomialMulG((polynomialMulG) => [...polynomialMulG,randMulG]);\r\n            setFij_list((Fij) => [...Fij,[randMulG,publickeyIndex,i,hash_message]]);\r\n            rands.push(rand);\r\n            if(i === 0){\r\n                setfi0Change(rand);\r\n            }\r\n        }\r\n        const N = \"ffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551\";\r\n        for(let j=2;j<=(publickeys.length+1);j++){\r\n            // fi_ofJ's receiver = publickey index of (j-1)\r\n            const fi_ofJ = calcPolynomialOfXModP(j,rands,N);\r\n            console.log(fi_ofJ);\r\n            setPolynomialOfXModP((polynomialOfXModP)=>[...polynomialOfXModP,fi_ofJ]);\r\n            setfi_ofJ_list((prev)=>[...prev,[fi_ofJ,publickeyIndex,j]]);\r\n        }\r\n        // console.log(polynomialOfXModP);\r\n    }\r\n\r\n    const timestampToDate = (timestamp) => {\r\n        // console.log(timestamp);\r\n        const date = new Date(timestamp * 1000);\r\n        // console.log(date);\r\n        return date.toString().slice(0,21);\r\n    }\r\n\r\n    const handlePrivateKeyChange = (e) => {\r\n        setPrivateKey(e.target.value);\r\n\r\n        setIsEncryptedValues(false);\r\n        setIsKeyGenSignature(false);\r\n        setIsEncrypted(false);\r\n        setIsLRS(false);\r\n        setIsSecretUploadSignature(false);\r\n    };\r\n    const handlePublicKeyIndexChange = (e) => {\r\n        setPublickeyIndex(e.target.value);\r\n\r\n        setIsEncryptedValues(false);\r\n        setIsKeyGenSignature(false);\r\n        setIsEncrypted(false);\r\n        setIsLRS(false);\r\n        setIsSecretUploadSignature(false);\r\n    };\r\n    const handleSelectedCandidateIDChange = (e) => {\r\n        setSelectedCandidateID(e.target.value);\r\n        \r\n        setIsEncrypted(false);\r\n        setIsLRS(false);\r\n    };\r\n\r\n    const handleGenLRS = async () =>{\r\n        if(privateKey == \"\") {\r\n            alert(\"Please input your private key.\");\r\n            return;\r\n        }\r\n        if(isEncrypted == false){\r\n            alert(\"Please encrypt your vote.\");\r\n            return;\r\n        }\r\n        try{            \r\n            setLRSLoading(true);\r\n            setIsLRS(false);\r\n\r\n            const encyptedVoteHash = web3.utils.soliditySha3(\r\n                {t:'uint256',v:encyptedVote[0][0]},\r\n                {t:'uint256',v:encyptedVote[0][1]},\r\n                {t:'uint256',v:encyptedVote[1][0]},\r\n                {t:'uint256',v:encyptedVote[1][1]}\r\n            );\r\n            setEncVoteHash(encyptedVoteHash);\r\n            console.log(encyptedVoteHash);\r\n            const sig = genSig(encyptedVoteHash,publickeysAfterVerified,privateKey,publickeyIndex);\r\n            if(sig == -1||verifySig(encyptedVoteHash,publickeysAfterVerified,sig) == false){\r\n                setLRSLoading(false);\r\n                setIsLRS(false);\r\n                return;\r\n            }\r\n            setLRSignature(sig);\r\n            setLRSLoading(false);\r\n            setIsLRS(true);\r\n            return;\r\n        }catch{\r\n            setLRSLoading(false);\r\n            setIsLRS(false);\r\n        }\r\n        setLRSLoading(false);\r\n        return;\r\n    }\r\n\r\n    const handleSendVote = async () =>{\r\n        if(isLRS == false){\r\n            alert(\"Please sign your vote.\");\r\n            return;\r\n        }\r\n        if(isEncrypted == false){\r\n            alert(\"Please encrypt your vote.\");\r\n            return;\r\n        }\r\n        if(isSendVoteLoading == true){\r\n            alert(\"Your Vote is processing...\");\r\n            return;\r\n        }\r\n        setIsSendVoteLoading(true);\r\n        // send encrypted vote with LRS\r\n        const U0 = \"0x\" + LRSignature.U0;\r\n        const V = LRSignature.V.map(v => \"0x\"+v);\r\n        const K = LRSignature.K.slice(2,);\r\n        const Kx = \"0x\" + K.slice(0,64);\r\n        const Ky = \"0x\" + K.slice(64,);\r\n        // console.log(elecitonID);\r\n        // console.log(U0);\r\n        // console.log(V);\r\n        // console.log(Kx);\r\n        // console.log(Ky);\r\n        // console.log(M);\r\n        electionInstance.methods.addVote(encyptedVote,encVoteHash,U0,V,[Kx,Ky])\r\n        .send({from: account,gas:30000000})\r\n        .on('error', function(error, receipt){\r\n            setIsSendVoteLoading(false);\r\n            console.error(\"error:\",error);\r\n        });\r\n    }\r\n\r\n    const handleGenSubSecret = async () =>{\r\n        if(privateKey == \"\"){\r\n            alert(\"Please input your private key.\");\r\n            return;\r\n        }\r\n        const tmp = await decrypt_fiOFJValues();\r\n        const shares = tmp[0];\r\n        const subSecretProof = tmp[1];\r\n        const subSec = sumOFfiOFJ(shares);\r\n        setSubSecret(subSec);\r\n        setSubSecretProof(subSecretProof);\r\n    }\r\n\r\n    const handleTally = async () =>{\r\n        const subSecrets = await electionInstance.methods.getSubSecrets().call();\r\n        console.log(subSecrets);\r\n        const tmp = reconstructSecret(subSecrets,min_shares);\r\n        console.log(tmp);\r\n        // const testPrkKey = await electionInstance.methods.verfiyVotePrivateKey(tmp)\r\n        // .call();\r\n        // console.log(testPrkKey);\r\n        console.log(\"VotePubKey:\",votePubKey);\r\n        // const ballots = await electionInstance.methods.getBallot().call();\r\n        // console.log(ballots);\r\n        // const decVote = await electionInstance.methods.decryptVote(ballots[0].encVote,prkkey).call();\r\n        // console.log(decVote);\r\n        // for(let i=0;i<ballots.length;i++){\r\n        //     console.log(ballots[i].encVote);\r\n        //     const m = elgamal_decrypt(ballots[i].encVote,new BigInteger(tmp,10).toString(16));\r\n        //     console.log(m);\r\n        // }\r\n        \r\n        setIsTallied(false);\r\n        setIsTallying(true);\r\n        await electionInstance.methods.tallyVote(tmp)\r\n        .send({from:account, gas:300000000})\r\n        .on('error', function(error, receipt){\r\n            setIsTallying(false);\r\n            console.error(\"error:\",error);\r\n        });\r\n    }\r\n\r\n    const handleVerKeyGenValues = async () =>{\r\n        console.log(isNoSendSharesCheck);\r\n        if(!isNoSendSharesCheck){\r\n            await electionInstance.methods.setNoSendSharesVoters()\r\n            .send({from:account,gas:300000000});\r\n            return;\r\n        }\r\n\r\n\r\n        if(privateKey == \"\"){\r\n            alert(\"Please input your private key\");\r\n            return;\r\n        }\r\n        setIsKeyValVerifying(true);\r\n        setIsKeyValValid(false);\r\n        let inValid = [];\r\n        const f = await getfi_OFJ();\r\n        console.log(f);\r\n        for(let i=0;i<publickeys.length;i++){\r\n            if(disqualifiedVoters.find(v=>parseInt(v)==i)){\r\n                console.log(i);\r\n                continue;\r\n            }\r\n            const Fij_list = await electionInstance.methods.getF(i).call();\r\n            // console.log(Fij_list);\r\n            // console.log(f.find(fi_ofJ=>fi_ofJ.i==i).ciphertext);\r\n            // console.log(f.find(fi_ofJ=>fi_ofJ.i==i));\r\n            const tmp = elgamal_decrypt(\r\n                f.find(fi_ofJ=>fi_ofJ.i==i).ciphertext,\r\n                privateKey,publickeys[publickeyIndex]);\r\n            const fi_ofJ = tmp[0];\r\n            const CPproof = tmp[1];\r\n            const H2 = tmp[2];\r\n            console.log(fi_ofJ);\r\n            console.log(CPproof);\r\n            console.log(H2);\r\n            if(!verifyfi_ofJ(fi_ofJ,Fij_list,parseInt(publickeyIndex)+2,min_shares)){\r\n                inValid.push([H2,i,parseInt(publickeyIndex)+2,CPproof]);\r\n            }\r\n            setDisqualifiedVotersReportPar(inValid);\r\n        }\r\n        setIsKeyValVerifying(false);\r\n        if(inValid.length == 0){\r\n            setIsKeyValValid(true);\r\n        }else{\r\n            alert(\"Disqualified Voters found!\\nPlease report them!\");\r\n        }\r\n        console.log(inValid);\r\n    }\r\n\r\n    const handleReportVoters = async () =>{\r\n        setIsReportingVoters(true);\r\n        await electionInstance.methods.setDisqualifiedPubKeyIndece(\r\n            disqualifiedVotersReportPar\r\n            ).send({from: account,gas:30000000})\r\n            .on('error', function(error, receipt){\r\n                setIsReportingVoters(false);\r\n                alert(error.message);\r\n                // console.error(\"error:\",error);\r\n            });\r\n    }\r\n\r\n    const handleSetVotePubKey = async () =>{\r\n        setIsVotePubKeySeting(true);\r\n        if(!isVotePubKeySet){\r\n            await electionInstance.methods.setVotePublicKey()\r\n            .send({from:account,gas:3000000})\r\n            .on('error', function(error, receipt){\r\n                setIsVotePubKeySeting(false);\r\n                alert(error.message);\r\n                // console.error(\"error:\",error);\r\n            });\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className='elections_container'>\r\n            <div className='left_box'>\r\n                <Scrollbars\r\n                    ref={msg_scrollbar}\r\n                    universal\r\n                    autoHide\r\n                    autoHideTimeout={1000}\r\n                    autoHideDuration={200}\r\n                >\r\n                    {\r\n                        elections.map((e,i)=>{\r\n                            return  <div onClick={()=>{handleSelectedElectionDataChange(e,i);}} key={e.id,i} className={searchName.length==0||removePadding(Web3.utils.hexToAscii(e.title)).includes(searchName)?'':'d-none'} >\r\n                                        <Election \r\n                                            election={e} \r\n                                            post_date = {timestampToDate(e.post_time)}\r\n                                            close_date = {timestampToDate(e.secret_upload_end_time)}\r\n                                            state_badge = {state_color_mapping[determineState(e.isSetUp,e.reg_end_time,e.share_end_time,e.ver_end_time,e.vote_end_time,e.secret_upload_end_time)]}\r\n                                            state = {determineState(e.isSetUp,e.reg_end_time,e.share_end_time,e.ver_end_time,e.vote_end_time,e.secret_upload_end_time)}           \r\n                                        />\r\n                                    </div>\r\n                        })\r\n                    }\r\n                </Scrollbars>\r\n            </div>\r\n            <div className='right_box'>\r\n                <Card className=\"m-2 shadow-lg bg-body rounded election_details\">\r\n                    <Scrollbars\r\n                        ref={msg_scrollbar}\r\n                        universal\r\n                        autoHide\r\n                        autoHideTimeout={1000}\r\n                        autoHideDuration={200}\r\n                    >\r\n                    {\r\n                        (!isSelectedElection) ? \r\n                            <div className='d-flex justify-content-center align-items-center'>\r\n                                <p className=\"lead\">Please select election.</p>\r\n                            </div>\r\n                        :\r\n                            <Container fluid className='ps-4 pe-5 pt-1'>\r\n                                <Row className=\"pt-2\">\r\n                                    <Col xs={6} className=''>\r\n                                        <Row className=\"p-1\"><strong>Title:</strong><small className='fit_content'>{title}</small></Row>\r\n                                        <Row className=\"p-1\"><strong>Description:</strong><small className='fit_content'>{description}</small></Row>\r\n                                        <Row className=\"p-1\"><strong>Owner:</strong><small className='fit_content'>{owner}</small></Row>\r\n                                        <Row className=\"p-1\" style={{position: \"relative\"}}><strong className='fit_content pe-0'>State:</strong><small className='fit_content badge_abs state'><Badge bg={state_color_mapping[state]}>{state}</Badge></small></Row>\r\n                                        <Row className=\"p-1\" style={{position: \"relative\"}}><strong className='fit_content pe-0'>Min Shares:</strong><small className='fit_content badge_abs min_shares'><Badge bg={\"secondary\"}>{min_shares}</Badge></small></Row>\r\n                                    </Col>\r\n                                    <Col xs={6} className=''>\r\n                                        {\r\n                                            (isRegOn)?\r\n                                            <div>\r\n                                                <Row className=\"p-1\"><strong>Registration Period:</strong> <small className=\"text-muted\">{post_date} - {reg_end_date}</small></Row>\r\n                                                <Row className=\"p-1\"><strong>Shares Distribution Period:</strong> <small className=\"text-muted\">{reg_end_date} - {key_gen_end_date}</small></Row>\r\n                                            </div>\r\n                                            :\r\n                                            <Row className=\"p-1\"><strong>Shares Distribution Period:</strong> <small className=\"text-muted\">{post_date} - {key_gen_end_date}</small></Row>\r\n                                        }\r\n\r\n                                        <Row className=\"p-1\"><strong>Shares Verification Period:</strong> <small className=\"text-muted\">{key_gen_end_date} - {key_ver_end_date}</small></Row>\r\n                                        <Row className=\"p-1\"><strong>Vote Period:</strong> <small className=\"text-muted\">{key_ver_end_date} - {vote_end_date}</small> </Row>\r\n                                        <Row className=\"p-1\"><strong >Secret Upload Period:</strong> <small className=\"text-muted\">{vote_end_date} - {secret_upload_end_date}</small></Row>\r\n                                    </Col>\r\n                                </Row>\r\n                                <Row className=\"pt-2\">\r\n                                    <Col className='table_height'>\r\n                                        <strong className=\"p-1\">Candidates:</strong>\r\n                                        <Scrollbars\r\n                                            autoHide\r\n                                            autoHideTimeout={1000}\r\n                                            autoHideDuration={200}\r\n                                        >\r\n                                            <Table bordered hover size=\"sm\" className='text-center '>\r\n                                                    <thead>\r\n                                                        <tr>\r\n                                                            <th>ID</th>\r\n                                                            <th>Name</th>\r\n                                                        </tr>\r\n                                                    </thead>\r\n                                                    <tbody>\r\n                                                        <Candidates_table_item candidates={candidates} />\r\n                                                    </tbody>\r\n                                            </Table>\r\n                                        </Scrollbars>\r\n                                    </Col>\r\n                                </Row>\r\n                                <Row className='mt-3 pt-2'>\r\n                                    <Col className='table_height'>\r\n                                        <strong className=\"p-1\">Voter Public keys: <span>(<span className='text-danger text-decoration-line-through'>Index,Key</span> =  Disqualified)</span></strong>\r\n                                        <Scrollbars\r\n                                            autoHide\r\n                                            autoHideTimeout={1000}\r\n                                            autoHideDuration={200}\r\n                                        >\r\n                                            <Table bordered hover size=\"sm\" className='text-center '>\r\n                                                    <thead>\r\n                                                        <tr>\r\n                                                            <th>Index</th>\r\n                                                            <th>Index(Vote)</th>\r\n                                                            <th>Public keys</th>\r\n                                                        </tr>\r\n                                                    </thead>\r\n                                                    <tbody>\r\n                                                        <Publickeys_table_item publickeys={publickeys} publickeysAfterVerified={publickeysAfterVerified} disqualifiedVoters={disqualifiedVoters} />\r\n                                                    </tbody>\r\n                                            </Table>\r\n                                        </Scrollbars>   \r\n                                    </Col>\r\n                                </Row>\r\n                                <Row className='mb-3 mt-5  pt-2'>\r\n                                    <Col>\r\n                                        <strong className=\"p-1\">State operation/result: </strong>\r\n                                        <TabContainer\r\n                                            activeKey={selectedState}\r\n                                            onSelect={(k) => setSelectedState(k)}\r\n                                            className=\"mb-3\"\r\n                                        >\r\n                                            <Row className=\" mt-2\">\r\n                                                <Col sm={2}>\r\n                                                    <Nav fill variant='pills' className=\"flex-column\">\r\n                                                        {\r\n                                                            (isRegOn)?\r\n                                                            <Nav.Item>\r\n                                                                <Nav.Link eventKey=\"Registration\">\r\n                                                                    Registration\r\n                                                                </Nav.Link>\r\n                                                            </Nav.Item>:''\r\n                                                        }\r\n                                                        <Nav.Item>\r\n                                                            <Nav.Link eventKey=\"Shares Distribution\">\r\n                                                                Shares Distribution\r\n                                                            </Nav.Link>\r\n                                                        </Nav.Item>\r\n                                                        <Nav.Item>\r\n                                                            <Nav.Link eventKey=\"Shares Verification\">\r\n                                                                Shares Verification\r\n                                                            </Nav.Link>\r\n                                                        </Nav.Item>\r\n                                                        <Nav.Item>\r\n                                                            <Nav.Link eventKey=\"Vote\" >\r\n                                                                Vote\r\n                                                            </Nav.Link>\r\n                                                        </Nav.Item>\r\n                                                        <Nav.Item>\r\n                                                            <Nav.Link eventKey=\"Secret Upload\" >\r\n                                                                Secret Upload\r\n                                                            </Nav.Link>\r\n                                                        </Nav.Item>\r\n                                                        <Nav.Item >\r\n                                                            <Nav.Link eventKey=\"Close\" >\r\n                                                                Close\r\n                                                            </Nav.Link>\r\n                                                        </Nav.Item>\r\n                                                    </Nav>\r\n                                                </Col>\r\n                                                <Col sm={10} className=\"p-0\">\r\n                                                    <Tab.Content className=''>\r\n                                                        <Tab.Pane eventKey=\"Registration\" className='operations'>\r\n                                                            <InputGroup  size=\"sm\" key=\"regPubKey\">\r\n                                                                <InputGroup.Text>Public Key</InputGroup.Text>\r\n                                                                <FormControl type=\"text\" value={regPubKey}  onChange={handleRegPubKeyChange}></FormControl>\r\n                                                            </InputGroup>  \r\n                                                            <Row className=\"mt-2\">\r\n                                                                <Col>\r\n                                                                    <InputGroup size=\"sm\" key=\"regName\">\r\n                                                                        <InputGroup.Text>Name</InputGroup.Text>\r\n                                                                        <FormControl type=\"text\" value={regName}  onChange={handleRegNameChange}></FormControl>\r\n                                                                    </InputGroup>  \r\n                                                                </Col>\r\n                                                                <Col>\r\n                                                                    <InputGroup size=\"sm\" key=\"regID\">\r\n                                                                        <InputGroup.Text>Identity Number</InputGroup.Text>\r\n                                                                        <FormControl type=\"text\" value={regID}  onChange={handleRegIDChange}></FormControl>\r\n                                                                    </InputGroup>  \r\n                                                                </Col>\r\n                                                            </Row>\r\n                                                            <Row className='mt-2'>\r\n                                                                <Col className='col-6'>\r\n                                                                    <InputGroup size=\"sm\" key=\"regBirthDate\">\r\n                                                                        <InputGroup.Text>Birth Date</InputGroup.Text>\r\n                                                                        <FormControl type=\"date\" value={regBirthDate}  onChange={handleRegBirthDateChange}></FormControl>\r\n                                                                    </InputGroup>  \r\n                                                                </Col>\r\n                                                                <Col className='col-6'>\r\n                                                                    <InputGroup size=\"sm\" key=\"regInfoIndex\">\r\n                                                                        <InputGroup.Text>Info Index</InputGroup.Text>\r\n                                                                        <FormControl type=\"text\" value={regInfoIndex} disabled className=\"bg-light\"></FormControl>\r\n                                                                    </InputGroup>  \r\n                                                                </Col>\r\n                                                            </Row>\r\n                                                            <div className='mt-4 mb-5'>\r\n                                                                <Button className=\" me-2\" variant=\"light\" onClick={handleGenPubKey}>Gen PubKey</Button>\r\n                                                                <Button className=\" me-2\" variant=\"light\" onClick={handleCheckIdentity}>Val Identity</Button>\r\n                                                                <Button className=\"me-2\" variant=\"dark\" onClick={handleRegister} disabled={isRegistering} >\r\n                                                                    {(isRegistering)?<span><Spinner animation=\"border\" size=\"sm\" /> Registering</span>\r\n                                                                    : \"Register\"}\r\n                                                                </Button>\r\n                                                            </div>\r\n                                                            <Badge_item isLoading={isEligibleParticipanting} isDone={isEligibleParticipant} text=\"Eligible Participant\" />\r\n                                                        </Tab.Pane>\r\n\r\n                                                        <Tab.Pane eventKey=\"Shares Distribution\" className='operations'>\r\n                                                            <PrivateKey_item k=\"vote_priv\" privateKey={privateKey} handlePrivateKeyChange={handlePrivateKeyChange} />\r\n                                                            <Row>\r\n                                                                <Col>\r\n                                                                    <Publickey_index_item k=\"keygen_pub\" publickeyIndex={publickeyIndex} handlePublicKeyIndexChange={handlePublicKeyIndexChange} publickeys={publickeys} />\r\n                                                                </Col>\r\n                                                                <Col className='mt-2'>\r\n                                                                    <Afi0Item k=\"fi0\" publickeyIndex={publickeyIndex} fi0={fi0} />\r\n                                                                </Col>\r\n                                                            </Row>\r\n                                                            <div className='mt-4 mb-5'>\r\n                                                                <Button className=\" me-2\" variant=\"light\" onClick={handleGenKeyGenValues}>Gen Values</Button>\r\n                                                                <Button className=\"me-2\" variant=\"light\" onClick={handleEncryptKeyGenVal} >Enc Vals</Button>                                                                \r\n                                                                <Button className=\" me-2\" variant=\"light\" onClick={() => handleGenSig('keygen')}>Gen Sig</Button>\r\n                                                                <Button className=\"me-2\" variant=\"dark\" onClick={handleSendKeyGenValues} disabled={isSendValueLoading} >\r\n                                                                    {(isSendValueLoading)?<span><Spinner animation=\"border\" size=\"sm\" /> Sending</span>\r\n                                                                    : \"Send Values\"}\r\n                                                                </Button>\r\n                                                            </div>\r\n                                                            # of voter sent : <strong>{keyGenValueSentVoterCount}</strong>\r\n                                                            <Badge_item isLoading={isKeyGenSignatureLoading} isDone={isKeyGenSignature} text=\"Personal Signature\" />\r\n                                                            <Badge_item isDone={isEncryptedValues} isLoading={isEncryptedValuesLoading} text=\"Encrypted Values\" />\r\n                                                        </Tab.Pane> \r\n\r\n                                                        <Tab.Pane eventKey=\"Shares Verification\" className='operations'>\r\n                                                            <PrivateKey_item k=\"vote_priv\" privateKey={privateKey} handlePrivateKeyChange={handlePrivateKeyChange} />\r\n                                                            <Row>\r\n                                                                <Col sm={6}>\r\n                                                                    <Publickey_index_item k=\"keygen_pub\" publickeyIndex={publickeyIndex} handlePublicKeyIndexChange={handlePublicKeyIndexChange} publickeys={publickeys} />\r\n                                                                </Col>\r\n                                                            </Row>\r\n                                                            <div className='mt-4 mb-5'>\r\n                                                                <Button className=\" me-2\" variant=\"light\" onClick={handleVerKeyGenValues}>{(!isNoSendSharesCheck)?\"Check Unsent Voters\":\"Ver Values\"}</Button>\r\n                                                                <Button className=\"me-2\" variant=\"dark\" onClick={handleReportVoters} disabled={isReportingVoters} >\r\n                                                                    {(isReportingVoters)?<span><Spinner animation=\"border\" size=\"sm\" /> Reporting</span>\r\n                                                                    : \"Report Voter(s)\"}\r\n                                                                </Button>\r\n                                                            </div>\r\n                                                            # of Disqualified voter : <strong>{disqualifiedVoters.length}</strong>\r\n                                                            <Badge_item isLoading={isKeyValVerifying} isDone={isKeyValValid} text=\"Valid Values\" />\r\n                                                        </Tab.Pane>\r\n\r\n                                                        <Tab.Pane eventKey=\"Vote\" className='operations'>\r\n                                                            {\r\n                                                                (!isVotePubKeySet)?\r\n                                                                    <Alert_item handleDone={handleSetVotePubKey} isDoing={isVotePubKeySeting} isDone={isVotePubKeySet} alertMsg={\"Please compute the vote public key and other variables for verifying LRS.\"} doName={\"Compute\"} doingName={\"Computing\"} />\r\n                                                                :\r\n                                                                    <div className='w-100 h-100'>\r\n                                                                        <PrivateKey_item k=\"vote_priv\" privateKey={privateKey} handlePrivateKeyChange={handlePrivateKeyChange} />\r\n                                                                        <Row>\r\n                                                                            <Col>\r\n                                                                                <Publickey_index_item k=\"keygen_pub\" publickeyIndex={publickeyIndex} handlePublicKeyIndexChange={handlePublicKeyIndexChange} publickeys={publickeysAfterVerified} />\r\n                                                                            </Col>\r\n                                                                            <Col className='mt-2'>\r\n                                                                                <SelectCandidate_item k=\"vote_cand\" selectedCandidateID={selectedCandidateID} handleSelectedCandidateIDChange={handleSelectedCandidateIDChange} candidates={candidates} />\r\n                                                                            </Col>\r\n                                                                        </Row>\r\n                                                                        <div className='mt-4 mb-5'>\r\n                                                                            <Button className=\"me-2\" variant=\"light\" onClick={handleEncVote}>Enc Vote</Button>\r\n                                                                            <Button className=\" me-2\" variant=\"light\" onClick={handleGenLRS}>Gen Sig</Button>\r\n                                                                            <Button className=\"me-2\" variant=\"dark\" onClick={handleSendVote} disabled={isSendVoteLoading} >\r\n                                                                                {(isSendVoteLoading)?<span><Spinner animation=\"border\" size=\"sm\" /> Voting</span>\r\n                                                                                : \"Send Vote\"}\r\n                                                                            </Button>\r\n                                                                        </div>\r\n                                                                        Vote Count : <strong>{totalVoteCount}</strong>\r\n                                                                        <Badge_item isLoading={isLRSLoading} isDone={isLRS} text=\"Linkable Ring Signature\" />\r\n                                                                        <Badge_item isDone={isEncrypted} isLoading={isEncryptLoading} text=\"Encrypted Vote\" />\r\n                                                                    </div>\r\n                                                            }\r\n                                                        </Tab.Pane>\r\n\r\n                                                        <Tab.Pane eventKey=\"Secret Upload\" className='operations'>\r\n                                                            <PrivateKey_item k=\"vote_priv\" privateKey={privateKey} handlePrivateKeyChange={handlePrivateKeyChange}  />\r\n                                                            <Row>\r\n                                                                <Col>\r\n                                                                    <Publickey_index_item k=\"keygen_pub\" publickeyIndex={publickeyIndex} handlePublicKeyIndexChange={handlePublicKeyIndexChange} publickeys={publickeys}  />\r\n                                                                </Col>\r\n                                                                <Col>\r\n                                                                    <SubSecretItem k=\"subSecret\" subSecret={subSecret} /> \r\n                                                                </Col>\r\n                                                            </Row>\r\n                                                            <div className='mt-4 mb-5'>\r\n                                                                <Button className=\"me-2\" variant=\"light\" onClick={handleGenSubSecret}>Calc Sub Secret</Button>\r\n                                                                <Button className=\"me-2\" variant=\"light\" onClick={()=>{handleGenSig('secret_upload')}}>Gen Sig</Button>\r\n                                                                <Button className=\"me-2\" variant=\"dark\" onClick={handleSendSubSecret} disabled={isSendSubSecretLoading}>\r\n                                                                    {(isSendSubSecretLoading)?<span><Spinner animation=\"border\" size=\"sm\" /> Sending x<sub>{publickeyIndex}</sub></span>\r\n                                                                        : <span>Send x<sub>{publickeyIndex}</sub></span>}\r\n                                                                </Button>\r\n                                                            </div>\r\n                                                            # of Voter Sent: <strong>{totalSubSecretSentCount}</strong>\r\n                                                            <Badge_item isLoading={isSecretUploadSignatureLoading} isDone={isSecretUploadSignature} text=\"Personal Signature\" />\r\n                                                        </Tab.Pane>\r\n\r\n                                                        <Tab.Pane eventKey=\"Close\" className='operations'>\r\n                                                            <Alert_item isDoing={isTallying} isDone={isTallied} handleDone={handleTally} alertMsg={\"Please tally the election ballots.\"} doName={\"Tally\"} doingName={\"Tallying\"} />\r\n                                                            <CloseState isTallying={isTallying} ballots={ballots} isTallied={isTallied} candidates={candidates} eInstance={electionInstance} publickeys={publickeys} />\r\n                                                        </Tab.Pane>\r\n                                                    </Tab.Content>\r\n                                                </Col>\r\n                                            </Row>  \r\n                                        </TabContainer>\r\n                                    </Col>\r\n                                </Row>\r\n                            </Container>\r\n                    }\r\n                    </Scrollbars> \r\n                </Card>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n}","import React, { Component, useState, useEffect}  from 'react';\nimport Web3 from 'web3';\nimport './App.css';\nimport VotingApp from './abis/VotingApp.json';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Container from 'react-bootstrap/Container';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\nimport NewElection from './components/newElection';\nimport Elections from './components/elections';\nimport ElectionABI from './abis/Election.json';\n\nconst App = () => {\n  const [web3,setWeb3] = useState(null);\n  const [account,setAccount] = useState('');\n  const [searchName,setsearchName] = useState('');\n  const [votingApp,setVotingApp] = useState(null);\n  const [electionInstances,setElectionInstances] = useState([]);\n  const [electionAddresses,setElectionAddresses] = useState([]);\n  const [isNewElection,setisNewElection] = useState(false);\n  const handleCloseNewElection = () => setisNewElection(false);\n  const handleOpenNewElection = () => setisNewElection(true);\n\n\n\n  const blockchainInstance = async () => {\n    const web3 = new Web3(Web3.givenProvider|| 'http://localhost:8545');\n    setWeb3(web3);\n    const network = await web3.eth.net.getNetworkType();\n    console.log(\"network: \",network);\n    \n    const accounts = await web3.eth.getAccounts();\n\n    console.log(\"accounts:\",accounts);\n    setAccount(accounts[0]);\n\n    const networkID = await web3.eth.net.getId();\n    console.log(\"networkID:\",networkID);\n    const networkData = VotingApp['networks'][networkID];\n    console.log(\"networkData:\",networkData);\n    if(networkData){\n      const vApp = new web3.eth.Contract(VotingApp['abi'],networkData['address']);\n      setVotingApp(vApp);\n      console.log(\"votingApp:\",vApp);\n\n      // get Election contract addresses\n      const eAddresses = await vApp.methods.getElectionAddresses().call();\n      setElectionAddresses(eAddresses);\n      console.log(\"Election Address: \",eAddresses);\n      // get Elections data\n      if(eAddresses!=null){\n        eAddresses.forEach(address => {\n          const e = new web3.eth.Contract(ElectionABI['abi'],address);\n          setElectionInstances((electionInstance)=>[e,...electionInstance]);\n        });\n      }\n\n      // listen new election event\n      vApp.events.newElectionEvent({},\n        async function(error, receipt) {\n            if(error){\n                console.error(error);\n                alert(\"Create New Election Failed\");\n            }else{\n                // console.log(receipt);\n                // const eData = receipt.returnValues.eData;\n                const eAddress = receipt.returnValues.eAddress;\n                // // console.log(result);\n                // setElections((elections)=>[...elections, eData]);\n                setElectionAddresses((eAddresses)=>[...eAddresses, eAddress]);\n                const e = new web3.eth.Contract(ElectionABI['abi'],eAddress);\n                setElectionInstances((electionInstance)=>[e,...electionInstance]);\n                console.log(e);\n                alert(\"Create New Election success\\nPlease Set up the election.\");\n            }\n        }            \n      );\n\n\n\n    }else{\n      console.error(\"VotingApp Contract not deployed to detected network.\");\n      alert(\"VotingApp Contract not deployed to detected network.\");\n    }\n    \n  }\n\n\n  useEffect(() => {\n    blockchainInstance();\n  },[]);\n\n  const handleSeach = (e) =>{\n    setsearchName(e.target.value);\n    console.log(e.target.value);\n  }\n\n  return (\n    <>\n      <div>\n          <Navbar bg=\"dark\" variant=\"dark\" collapseOnSelect aria-controls=\"navbarScroll\" className='shadow '>\n            <Container>\n              <Navbar.Brand onClick={handleCloseNewElection} className='brandname'>Secure E-Voting App</Navbar.Brand>\n              <Navbar.Toggle />\n              <Navbar.Collapse className=\"justify-content-end\">\n              <Form className=\"d-flex \">\n                <Form.Control\n                    type=\"search\"\n                    placeholder=\"Search\"\n                    className=\"me-3\"\n                    aria-label=\"Search\"\n                    value={searchName}\n                    onChange={handleSeach}\n                  />\n                </Form>\n                <Button variant=\"outline-light\" onClick={()=>{ handleOpenNewElection(); }}>New Election</Button>\n              </Navbar.Collapse>\n            </Container>\n          </Navbar>\n      </div>\n      <div className='main'>\n        {\n          (isNewElection)? \n          <NewElection web3={web3} electionAddresses={electionAddresses} handleCloseNewElection={handleCloseNewElection} votingApp={votingApp} account={account} />\n          : \n          <Elections searchName={searchName} electionInstances={electionInstances} web3={web3} account={account} electionAddresses={electionAddresses}  />\n        }\n      </div>\n\n\n\n\n    </>\n  );\n};\n\n\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}